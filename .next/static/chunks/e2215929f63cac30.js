(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79474,(e,t,s)=>{"use strict";var a=e.r(71645).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;s.c=function(e){return a.H.useMemoCache(e)}},932,(e,t,s)=>{"use strict";t.exports=e.r(79474)},66677,e=>{"use strict";var t=e.i(43476),s=e.i(932),a=e.i(71645);let l=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:d="",children:i,iconNode:o,...c},m)=>(0,a.createElement)("svg",{ref:m,...n,width:t,height:t,stroke:e,strokeWidth:r?24*Number(s)/Number(t):s,className:l("lucide",d),...!i&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(c)&&{"aria-hidden":"true"},...c},[...o.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(i)?i:[i]])),i=(e,t)=>{let s=(0,a.forwardRef)(({className:s,...n},i)=>(0,a.createElement)(d,{ref:i,iconNode:t,className:l(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...n}));return s.displayName=r(e),s},o=i("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),c=i("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),m=i("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),x=i("calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]),h=i("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),u=i("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),p=i("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),g=i("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]),b=i("tree-palm",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]),f=i("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),y=i("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),j=i("coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]),v=i("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),N=i("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),w=i("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),k=e=>`R${(e||0).toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g," ")}`,D=(e,t)=>{let s=t.getFullYear(),a=t.getMonth(),l=new Date(s,a+1,0).getDate(),r=new Set((e||[]).filter(e=>e.getMonth()===a&&e.getFullYear()===s).map(e=>e.getDate())),n=[],d=null;for(let e=1;e<=l;e++)r.has(e)?null!==d&&(n.push({start:d,end:e-1,length:e-1-d+1}),d=null):(null===d&&(d=e),e===l&&null!==d&&n.push({start:d,end:e,length:e-d+1}));return n.map(e=>{var t;return{...e,tier:(t=e.length)>=15?{discount:10,label:"Gold Tier",color:"text-amber-600",bg:"bg-amber-100",borderColor:"border-amber-200"}:t>=5?{discount:5,label:"Silver Tier",color:"text-emerald-600",bg:"bg-emerald-100",borderColor:"border-emerald-200"}:{discount:0,label:"Standard",color:"text-slate-500",bg:"bg-slate-50",borderColor:"border-slate-100"}}})},S=e=>{let t=Math.floor,s=e%19,a=t(e/100),l=(a-t(a/4)-t((8*a+13)/25)+19*s+15)%30,r=l-t(l/28)*(1-t(29/(l+1))*t((21-s)/11)),n=(e+t(e/4)+r+2-a+t(a/4))%7,d=r-n,i=3+t((d+40)/44),o=d+28-31*t(i/4),c=new Date(e,i-1,o-2),m=new Date(e,i-1,o+1),x=[new Date(e,0,1),new Date(e,2,21),new Date(e,3,27),new Date(e,4,1),new Date(e,5,16),new Date(e,7,9),new Date(e,8,24),new Date(e,11,16),new Date(e,11,25),new Date(e,11,26)],h=[c,m];return x.forEach(e=>{if(h.push(e),0===e.getDay()){let t=new Date(e);t.setDate(e.getDate()+1),h.push(t)}}),h},M=e=>{let t=Number.parseFloat(String(e))||0;return{weekday:t,saturday:t+.05*t*1.5,sunday:t+.05*t*2}},A=[{name:"Excavator 1.5T",rate:2500},{name:"Dumper 6T",rate:1800},{name:"Roller 120",rate:1200},{name:"Telehandler",rate:3e3}],C=e=>{let l,r,n,d,i,o,c,m,x,h,u=(0,s.c)(20),{month:p,selectedDays:g,onDaysChange:b}=e,[,f]=(0,a.useState)(null);if(u[0]!==p||u[1]!==b||u[2]!==g){let e=p.getFullYear(),s=p.getMonth(),a=new Date(e,s,1),o=new Date(e,s+1,0).getDate(),c=a.getDay(),m=Array.from({length:o},E),x=S(e),h=t=>g.some(a=>a.getDate()===t&&a.getMonth()===s&&a.getFullYear()===e);d="bg-white rounded-xl border border-slate-200 p-3 shadow-sm",u[8]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-1",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(Y)}),u[8]=i):i=u[8],l="grid grid-cols-7 gap-1",r=Array.from({length:c}).map(R),n=m.map(a=>{let l=h(a),r=new Date(e,s,a).getDay(),n=x.some(t=>t.getDate()===a&&t.getMonth()===s&&t.getFullYear()===e);return(0,t.jsxs)("button",{onClick:()=>{h(a)?b(g.filter(t=>t.getDate()!==a||t.getMonth()!==s||t.getFullYear()!==e)):b([...g,new Date(e,s,a)])},onMouseEnter:()=>f(a),onMouseLeave:()=>f(null),className:`
                aspect-square rounded-md text-xs font-medium transition-all duration-200
                flex items-center justify-center relative border
                ${l?"bg-red-500 text-white border-red-600 shadow-sm scale-105 hover:bg-red-600":0===r||6===r?"bg-slate-100 text-slate-500 border-slate-200 hover:border-emerald-300 hover:bg-emerald-50":"bg-white text-slate-700 border-slate-100 hover:border-emerald-300 hover:bg-emerald-50"}
              `,children:[a,n&&!l&&(0,t.jsx)("div",{className:"absolute -top-0.5 -right-0.5 w-1.5 h-1.5 bg-purple-400 rounded-full",title:"SA Public Holiday"})]},a)}),u[0]=p,u[1]=b,u[2]=g,u[3]=l,u[4]=r,u[5]=n,u[6]=d,u[7]=i}else l=u[3],r=u[4],n=u[5],d=u[6],i=u[7];return u[9]!==l||u[10]!==r||u[11]!==n?(o=(0,t.jsxs)("div",{className:l,children:[r,n]}),u[9]=l,u[10]=r,u[11]=n,u[12]=o):o=u[12],u[13]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,t.jsx)("span",{children:"Idle"})]}),u[13]=c):c=u[13],u[14]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-slate-200 rounded-sm border border-slate-300"}),(0,t.jsx)("span",{children:"Wknd"})]}),u[14]=m):m=u[14],u[15]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsxs)("div",{className:"mt-2 flex flex-wrap items-center justify-center gap-3 text-[10px] text-slate-500 bg-slate-50 p-1.5 rounded-lg border border-slate-100",children:[c,m,(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-purple-400 rounded-full"}),(0,t.jsx)("span",{children:"SA Hol"})]})]}),u[15]=x):x=u[15],u[16]!==d||u[17]!==i||u[18]!==o?(h=(0,t.jsxs)("div",{className:d,children:[i,o,x]}),u[16]=d,u[17]=i,u[18]=o,u[19]=h):h=u[19],h},T=({item:e,currentMonth:s,onRemove:l,onUpdateIdleDays:r,onUpdateRates:n,onMonthChange:d})=>{let[i,o]=(0,a.useState)(!1),m=D(e.idleDays,s),A=s.getFullYear(),T=s.getMonth(),E=S(A),Y={};m.forEach(e=>{let t=String(e.tier.discount);Y[t]||(Y[t]={tier:e.tier,types:{WEEKDAYS:[],SATURDAYS:[],"SUNDAYS & PUBLIC HOLIDAYS":[]}});for(let s=e.start;s<=e.end;s++){let e=new Date(A,T,s);E.some(e=>e.getDate()===s&&e.getMonth()===T&&e.getFullYear()===A)||0===e.getDay()?Y[t].types["SUNDAYS & PUBLIC HOLIDAYS"].push(s):6===e.getDay()?Y[t].types.SATURDAYS.push(s):Y[t].types.WEEKDAYS.push(s)}});let R=0;Object.values(Y).forEach(t=>{Object.keys(t.types).forEach(s=>{let a=t.types[s],l=0;l="WEEKDAYS"===s?e.rates.weekday:"SATURDAYS"===s?e.rates.saturday:e.rates.sunday;let r=a.length*l,n=r*(t.tier.discount/100);R+=r-n})});let _=(t,s)=>{t.stopPropagation();let a=new Date(A,T+1,0).getDate(),l=new Set(e.idleDays.map(e=>e.getTime())),n=!1;for(let e=1;e<=a;e++){let t=new Date(A,T,e);if(t.getDay()===s&&!l.has(t.getTime())){n=!0;break}}let d=[...e.idleDays];if(n)for(let e=1;e<=a;e++){let t=new Date(A,T,e);t.getDay()!==s||l.has(t.getTime())||d.push(t)}else d=d.filter(e=>e.getMonth()!==T||e.getFullYear()!==A||e.getDay()!==s);r(d)},U=(t,s)=>{n({...e.rates,[t]:Number.parseFloat(s)||0})},F=s.toLocaleDateString("en-US",{month:"long",year:"numeric"});return(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden hover:shadow-md transition-shadow group",children:[(0,t.jsxs)("div",{className:"bg-slate-50 border-b border-slate-100 p-3 flex justify-between items-center cursor-pointer hover:bg-slate-100 transition-colors select-none",onClick:()=>o(!i),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center text-emerald-600 group-hover:scale-110 transition-transform",children:(0,t.jsx)(x,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-base text-slate-800",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-slate-500 font-medium",children:[k(e.rates.weekday)," (Base)"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"text-right mr-2 hidden sm:block",children:[(0,t.jsx)("div",{className:"text-[10px] text-slate-400 font-medium uppercase tracking-wider",children:"Total"}),(0,t.jsx)("div",{className:"font-bold text-emerald-700 text-base",children:k(R)})]}),(0,t.jsx)("div",{className:"h-8 w-px bg-slate-200 hidden sm:block"}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),l()},className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Remove Item",children:(0,t.jsx)(c,{className:"w-5 h-5"})}),i?(0,t.jsx)(u,{className:"w-5 h-5 text-slate-400"}):(0,t.jsx)(p,{className:"w-5 h-5 text-slate-400"})]})]}),!i&&(0,t.jsxs)("div",{className:"p-4 grid lg:grid-cols-[250px_1fr] gap-6 animate-in slide-in-from-top-2 duration-200",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between bg-slate-50 p-2 rounded-lg border border-slate-200",children:[(0,t.jsx)("button",{onClick:()=>{let e=new Date(s);e.setMonth(e.getMonth()-1),d(e)},className:"p-1 hover:bg-white hover:shadow-sm rounded transition-all text-slate-500",children:(0,t.jsx)(N,{className:"w-4 h-4"})}),(0,t.jsx)("span",{className:"text-sm font-bold text-slate-700",children:F}),(0,t.jsx)("button",{onClick:()=>{let e=new Date(s);e.setMonth(e.getMonth()+1),d(e)},className:"p-1 hover:bg-white hover:shadow-sm rounded transition-all text-slate-500",children:(0,t.jsx)(w,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsxs)("h4",{className:"text-xs font-bold text-slate-700 uppercase tracking-wide flex items-center gap-2",children:[(0,t.jsx)(h,{className:"w-3.5 h-3.5 text-amber-500"}),"Mark Idle Days"]})}),(0,t.jsxs)("div",{className:"flex gap-1.5 mb-2",children:[(0,t.jsxs)("button",{onClick:e=>_(e,6),className:"flex-1 text-[10px] font-medium bg-slate-100 hover:bg-slate-200 text-slate-600 px-1.5 py-1 rounded-md transition-colors flex items-center justify-center gap-1",title:"Toggle Saturdays",children:[(0,t.jsx)(y,{className:"w-3 h-3"}),"Sat"]}),(0,t.jsxs)("button",{onClick:e=>_(e,0),className:"flex-1 text-[10px] font-medium bg-slate-100 hover:bg-slate-200 text-slate-600 px-1.5 py-1 rounded-md transition-colors flex items-center justify-center gap-1",title:"Toggle Sundays",children:[(0,t.jsx)(f,{className:"w-3 h-3"}),"Sun"]}),(0,t.jsxs)("button",{onClick:t=>{t.stopPropagation();let s=E.filter(e=>e.getMonth()===T);if(0===s.length)return;let a=new Set(e.idleDays.map(e=>e.getTime())),l=s.some(e=>!a.has(e.getTime())),n=[...e.idleDays];if(l)s.forEach(e=>{a.has(e.getTime())||n.push(e)});else{let e=new Set(s.map(e=>e.getTime()));n=n.filter(t=>!e.has(t.getTime()))}r(n)},className:"flex-1 text-[10px] font-medium bg-purple-50 hover:bg-purple-100 text-purple-700 px-1.5 py-1 rounded-md transition-colors flex items-center justify-center gap-1",title:"Toggle SA Public Holidays",children:[(0,t.jsx)(b,{className:"w-3 h-3"}),"SA Hol"]})]}),(0,t.jsx)(C,{month:s,selectedDays:e.idleDays,onDaysChange:r})]}),(0,t.jsxs)("div",{className:"bg-slate-50 rounded-lg p-3 border border-slate-100 relative",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("h4",{className:"text-xs font-bold text-slate-700 uppercase tracking-wide flex items-center gap-2",children:[(0,t.jsx)(j,{className:"w-3.5 h-3.5 text-emerald-500"}),"Rates Config"]}),(0,t.jsx)("button",{onClick:()=>{n(M(e.rates.weekday))},title:"Reset to Formula",className:"text-slate-400 hover:text-emerald-600 transition-colors",children:(0,t.jsx)(v,{className:"w-3.5 h-3.5"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("label",{className:"text-[10px] font-medium text-slate-500",children:"Weekday"}),(0,t.jsxs)("div",{className:"flex items-center bg-white border border-slate-200 rounded px-2 py-1 w-24 focus-within:ring-1 focus-within:ring-emerald-500",children:[(0,t.jsx)("span",{className:"text-[10px] text-slate-400 mr-1",children:"R"}),(0,t.jsx)("input",{type:"number",className:"w-full text-xs outline-none text-right font-medium text-slate-700",value:e.rates.weekday,onChange:e=>U("weekday",e.target.value)})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("label",{className:"text-[10px] font-medium text-slate-500",children:["Saturday",(0,t.jsx)("span",{className:"block text-[8px] text-slate-400 font-normal",children:"Base + (5% × 1.5)"})]}),(0,t.jsxs)("div",{className:"flex items-center bg-white border border-slate-200 rounded px-2 py-1 w-24 focus-within:ring-1 focus-within:ring-emerald-500",children:[(0,t.jsx)("span",{className:"text-[10px] text-slate-400 mr-1",children:"R"}),(0,t.jsx)("input",{type:"number",className:"w-full text-xs outline-none text-right font-medium text-slate-700",value:e.rates.saturday,onChange:e=>U("saturday",e.target.value)})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("label",{className:"text-[10px] font-medium text-slate-500",children:["Sun/Hol",(0,t.jsx)("span",{className:"block text-[8px] text-slate-400 font-normal",children:"Base + (5% × 2.0)"})]}),(0,t.jsxs)("div",{className:"flex items-center bg-white border border-slate-200 rounded px-2 py-1 w-24 focus-within:ring-1 focus-within:ring-emerald-500",children:[(0,t.jsx)("span",{className:"text-[10px] text-slate-400 mr-1",children:"R"}),(0,t.jsx)("input",{type:"number",className:"w-full text-xs outline-none text-right font-medium text-slate-700",value:e.rates.sunday,onChange:e=>U("sunday",e.target.value)})]})]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("h4",{className:"text-xs font-bold text-slate-700 uppercase tracking-wide mb-2 flex items-center gap-2",children:[(0,t.jsx)(g,{className:"w-3.5 h-3.5 text-emerald-500"}),"Invoice Breakdown"]}),(0,t.jsxs)("div",{className:"bg-slate-50 rounded-lg border border-slate-100 flex-1 flex flex-col overflow-hidden",children:[(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-2 p-2 bg-slate-50 border-b border-slate-200 text-[10px] font-bold text-slate-500 uppercase tracking-wider",children:[(0,t.jsx)("div",{className:"col-span-5",children:"Description"}),(0,t.jsx)("div",{className:"col-span-2 text-right",children:"Days"}),(0,t.jsx)("div",{className:"col-span-2 text-right",children:"Disc."}),(0,t.jsx)("div",{className:"col-span-3 text-right",children:"Total"})]}),(0,t.jsx)("div",{className:"overflow-y-auto max-h-[350px]",children:0===Object.keys(Y).length?(0,t.jsx)("div",{className:"text-center py-8 text-xs text-slate-400 italic",children:"Mark periods on the calendar to see breakdown."}):Object.keys(Y).sort((e,t)=>Number(e)-Number(t)).map(s=>{let a=Y[s];return(0,t.jsx)("div",{className:"border-b last:border-0 border-slate-100",children:["WEEKDAYS","SATURDAYS","SUNDAYS & PUBLIC HOLIDAYS"].map(s=>{let l=a.types[s];if(0===l.length)return null;let r=0;r="WEEKDAYS"===s?e.rates.weekday:"SATURDAYS"===s?e.rates.saturday:e.rates.sunday;let n=l.length*r*(1-a.tier.discount/100),d=(e=>{if(0===e.length)return"";let t=[...e].sort((e,t)=>e-t),s=[],a=t[0],l=t[0];for(let e=1;e<t.length;e++)t[e]!==l+1&&(s.push(a===l?`${a}`:`${a}-${l}`),a=t[e]),l=t[e];return s.push(a===l?`${a}`:`${a}-${l}`),s.join(", ")})(l);return(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-2 p-2 text-xs hover:bg-slate-50/50 transition-colors",children:[(0,t.jsx)("div",{className:"col-span-5 font-medium text-slate-700",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-slate-900 font-bold",children:s}),(0,t.jsx)("span",{className:"text-[10px] text-slate-400 font-normal mt-0.5",children:d})]})}),(0,t.jsx)("div",{className:"col-span-2 text-right font-medium text-slate-600 mt-1",children:(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[(0,t.jsx)("span",{children:l.length}),(0,t.jsxs)("span",{className:"text-[9px] text-slate-400",children:["@ ",k(r)]})]})}),(0,t.jsxs)("div",{className:`col-span-2 text-right font-bold mt-1 ${a.tier.discount>0?"text-emerald-600":"text-slate-400"}`,children:[a.tier.discount,"%"]}),(0,t.jsx)("div",{className:"col-span-3 text-right font-bold text-slate-800 mt-1",children:k(n)})]},s)})},s)})}),(0,t.jsx)("div",{className:"mt-auto border-t border-slate-200 p-3 bg-slate-50",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-slate-500 font-medium text-xs",children:"Final Amount"}),(0,t.jsx)("span",{className:"text-xl font-bold text-emerald-700",children:k(R)})]})})]})]})]})]})};function E(e,t){return t+1}function Y(e,s){return(0,t.jsx)("div",{className:`text-center text-[10px] font-bold uppercase tracking-wider ${0===s||6===s?"text-amber-500":"text-slate-400"}`,children:e},e)}function R(e,s){return(0,t.jsx)("div",{},`empty-${s}`)}e.s(["default",0,()=>{let[e,s]=(0,a.useState)(new Date),[l,r]=(0,a.useState)([{id:"1",name:"Excavator 20T",rates:M(2500),idleDays:[]}]),[n,d]=(0,a.useState)(""),[i,c]=(0,a.useState)(""),h=l.reduce((t,s)=>{let a=D(s.idleDays,e),l=e.getFullYear(),r=e.getMonth(),n=S(l),d=0;return a.forEach(e=>{for(let t=e.start;t<=e.end;t++){let a=new Date(l,r,t),i=n.some(e=>e.getDate()===t&&e.getMonth()===r&&e.getFullYear()===l),o=s.rates.weekday;i||0===a.getDay()?o=s.rates.sunday:6===a.getDay()&&(o=s.rates.saturday),d+=o*(1-e.tier.discount/100)}}),t+d},0);return(0,t.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-emerald-50 via-slate-50 to-teal-50 p-4 md:p-8 font-sans text-slate-800",children:(0,t.jsxs)("div",{className:"max-w-5xl mx-auto space-y-8",children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-emerald-700 to-teal-600 mb-2",children:"Plant Hire Calculator"}),(0,t.jsx)("p",{className:"text-slate-500 font-medium",children:"Strict period discounting (Gaps break continuity)"})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,t.jsx)("span",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide py-1.5",children:"Quick Add:"}),A.map((e,s)=>(0,t.jsx)("button",{onClick:()=>{d(e.name),c(String(e.rate))},className:"text-xs font-medium px-3 py-1.5 rounded-full bg-slate-100 hover:bg-emerald-100 text-slate-600 hover:text-emerald-700 transition-colors",children:e.name},s))]}),(0,t.jsxs)("form",{onSubmit:e=>{if(e?.preventDefault(),!n||!i)return;let t=Number.parseFloat(i);r([...l,{id:Date.now().toString(),name:n,rates:M(t),idleDays:[]}]),d(""),c("")},className:"flex flex-col md:flex-row gap-3",children:[(0,t.jsx)("input",{placeholder:"Equipment Name (e.g., Dump Truck)",value:n,onChange:e=>d(e.target.value),className:"flex-1 px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-all"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-2.5 text-slate-400 font-medium",children:"R"}),(0,t.jsx)("input",{placeholder:"Rate",type:"number",value:i,onChange:e=>c(e.target.value),className:"w-full md:w-32 pl-8 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-all"})]}),(0,t.jsxs)("button",{type:"submit",className:"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2.5 rounded-lg font-medium shadow-sm shadow-emerald-200 active:scale-95 transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)(o,{className:"w-5 h-5"}),"Add"]})]})]}),(0,t.jsx)("div",{className:"space-y-4",children:0===l.length?(0,t.jsxs)("div",{className:"text-center py-20 bg-white/50 border-2 border-dashed border-slate-300 rounded-2xl",children:[(0,t.jsx)(x,{className:"w-16 h-16 text-slate-300 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-slate-500",children:"No equipment added yet"}),(0,t.jsx)("p",{className:"text-slate-400",children:"Add a machine above to start calculating"})]}):l.map(a=>(0,t.jsx)(T,{item:a,currentMonth:e,onRemove:()=>{var e;return e=a.id,void r(l.filter(t=>t.id!==e))},onUpdateIdleDays:e=>{var t;return t=a.id,void r(l.map(s=>s.id===t?{...s,idleDays:e}:s))},onUpdateRates:e=>{var t;return t=a.id,void r(l.map(s=>s.id===t?{...s,rates:e}:s))},onMonthChange:s},a.id))}),l.length>0&&(0,t.jsx)("div",{className:"sticky bottom-4 z-10",children:(0,t.jsxs)("div",{className:"bg-slate-900 text-white rounded-xl shadow-2xl p-6 flex flex-col md:flex-row items-center justify-between gap-6 border border-slate-700 backdrop-blur-xl bg-opacity-95",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 bg-emerald-500 rounded-lg text-emerald-950",children:(0,t.jsx)(m,{className:"w-6 h-6"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold text-lg",children:"Invoice Total"}),(0,t.jsxs)("p",{className:"text-slate-400 text-sm",children:[l.length," machine",1!==l.length&&"s"," calculated"]})]})]}),(0,t.jsx)("div",{className:"text-4xl font-extrabold text-emerald-400",children:k(h)})]})}),(0,t.jsxs)("div",{className:"bg-slate-100 rounded-xl p-6 text-sm text-slate-600 border border-slate-200",children:[(0,t.jsxs)("h4",{className:"font-bold text-slate-800 mb-2 flex items-center gap-2",children:[(0,t.jsx)(m,{className:"w-4 h-4"}),"Calculation Rules"]}),(0,t.jsxs)("ul",{className:"grid md:grid-cols-3 gap-4 list-disc list-inside marker:text-emerald-500",children:[(0,t.jsxs)("li",{children:["Any idle day ",(0,t.jsx)("span",{className:"font-medium text-red-600",children:"breaks continuity"}),"."]}),(0,t.jsxs)("li",{children:["5-14 continuous days: ",(0,t.jsx)("span",{className:"font-medium text-emerald-700",children:"5% Off"}),"."]}),(0,t.jsxs)("li",{children:["15+ continuous days: ",(0,t.jsx)("span",{className:"font-medium text-emerald-700",children:"10% Off"}),"."]})]})]})]})})}],66677)}]);