{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["D:/websites/plant-hire-calculator/src/components/PlantHireCalculator.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState } from 'react';\nimport {\n  Plus,\n  Trash2,\n  Calendar,\n  Info,\n  Calculator,\n  CheckCircle2,\n  AlertCircle,\n  ChevronDown,\n  ChevronUp,\n  Wand2,\n  Receipt,\n  Palmtree,\n  Sun,\n  Moon,\n  Coins,\n  RefreshCw,\n  ChevronLeft,\n  ChevronRight,\n} from 'lucide-react';\n\ntype DiscountTier = {\n  discount: number;\n  label: string;\n  color: string;\n  bg: string;\n  borderColor: string;\n};\n\ntype Period = {\n  start: number;\n  end: number;\n  length: number;\n  tier: DiscountTier;\n};\n\ntype Rates = {\n  weekday: number;\n  saturday: number;\n  sunday: number;\n};\n\ntype EquipmentItem = {\n  id: string;\n  name: string;\n  rates: Rates;\n  idleDays: Date[];\n};\n\ntype DayPickerProps = {\n  month: Date;\n  selectedDays: Date[];\n  onDaysChange: (days: Date[]) => void;\n};\n\ntype EquipmentCardProps = {\n  item: EquipmentItem;\n  onRemove: () => void;\n  onUpdateIdleDays: (days: Date[]) => void;\n  onUpdateRates: (rates: Rates) => void;\n};\n\ntype InvoiceGroup = {\n  tier: DiscountTier;\n  types: {\n    WEEKDAYS: number[];\n    SATURDAYS: number[];\n    'SUNDAYS & PUBLIC HOLIDAYS': number[];\n  };\n};\n\nconst getDiscountTier = (days: number): DiscountTier => {\n  if (days >= 15) {\n    return {\n      discount: 10,\n      label: 'Gold Tier',\n      color: 'text-amber-600',\n      bg: 'bg-amber-100',\n      borderColor: 'border-amber-200',\n    };\n  }\n  if (days >= 5) {\n    return {\n      discount: 5,\n      label: 'Silver Tier',\n      color: 'text-emerald-600',\n      bg: 'bg-emerald-100',\n      borderColor: 'border-emerald-200',\n    };\n  }\n  return {\n    discount: 0,\n    label: 'Standard',\n    color: 'text-slate-500',\n    bg: 'bg-slate-50',\n    borderColor: 'border-slate-100',\n  };\n};\n\nconst formatCurrency = (val: number): string => {\n  return `R${(val || 0).toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ' ')}`;\n};\n\nconst calculatePeriods = (idleDays: Date[], month: Date): Period[] => {\n  const year = month.getFullYear();\n  const monthIndex = month.getMonth();\n  const lastDay = new Date(year, monthIndex + 1, 0);\n  const totalDaysInMonth = lastDay.getDate();\n\n  const idleDaySet = new Set(\n    (idleDays || [])\n      .filter((d) => d.getMonth() === monthIndex && d.getFullYear() === year)\n      .map((d) => d.getDate())\n  );\n\n  const periods: { start: number; end: number; length: number }[] = [];\n  let currentStart: number | null = null;\n\n  for (let d = 1; d <= totalDaysInMonth; d++) {\n    const isIdle = idleDaySet.has(d);\n\n    if (!isIdle) {\n      if (currentStart === null) {\n        currentStart = d;\n      }\n      if (d === totalDaysInMonth && currentStart !== null) {\n        periods.push({ start: currentStart, end: d, length: d - currentStart + 1 });\n      }\n    } else if (currentStart !== null) {\n      periods.push({\n        start: currentStart,\n        end: d - 1,\n        length: (d - 1) - currentStart + 1,\n      });\n      currentStart = null;\n    }\n  }\n\n  return periods.map((p) => ({\n    ...p,\n    tier: getDiscountTier(p.length),\n  }));\n};\n\nconst getSAHolidays = (year: number): Date[] => {\n  const f = Math.floor;\n  const G = year % 19;\n  const C = f(year / 100);\n  const H = (C - f(C / 4) - f((8 * C + 13) / 25) + 19 * G + 15) % 30;\n  const I = H - f(H / 28) * (1 - f(29 / (H + 1)) * f((21 - G) / 11));\n  const J = (year + f(year / 4) + I + 2 - C + f(C / 4)) % 7;\n  const L = I - J;\n  const month = 3 + f((L + 40) / 44);\n  const day = L + 28 - 31 * f(month / 4);\n\n  const easterSunday = new Date(year, month - 1, day);\n  const goodFriday = new Date(year, month - 1, day - 2);\n  const familyDay = new Date(year, month - 1, day + 1);\n\n  const fixedDates = [\n    new Date(year, 0, 1),\n    new Date(year, 2, 21),\n    new Date(year, 3, 27),\n    new Date(year, 4, 1),\n    new Date(year, 5, 16),\n    new Date(year, 7, 9),\n    new Date(year, 8, 24),\n    new Date(year, 11, 16),\n    new Date(year, 11, 25),\n    new Date(year, 11, 26),\n  ];\n\n  const holidays: Date[] = [goodFriday, familyDay];\n\n  fixedDates.forEach((date) => {\n    holidays.push(date);\n    if (date.getDay() === 0) {\n      const mondayObserved = new Date(date);\n      mondayObserved.setDate(date.getDate() + 1);\n      holidays.push(mondayObserved);\n    }\n  });\n\n  return holidays;\n};\n\nconst formatDayRanges = (days: number[]): string => {\n  if (days.length === 0) return '';\n\n  const sorted = [...days].sort((a, b) => a - b);\n  const ranges: string[] = [];\n  let start = sorted[0];\n  let prev = sorted[0];\n\n  for (let i = 1; i < sorted.length; i++) {\n    if (sorted[i] !== prev + 1) {\n      ranges.push(start === prev ? `${start}` : `${start}-${prev}`);\n      start = sorted[i];\n    }\n    prev = sorted[i];\n  }\n  ranges.push(start === prev ? `${start}` : `${start}-${prev}`);\n  return ranges.join(', ');\n};\n\nconst calculateRates = (baseRate: number): Rates => {\n  const r = Number.parseFloat(String(baseRate)) || 0;\n  return {\n    weekday: r,\n    saturday: r + r * 0.05 * 1.5,\n    sunday: r + r * 0.05 * 2.0,\n  };\n};\n\nconst PRESETS = [\n  { name: 'Excavator 1.5T', rate: 2500 },\n  { name: 'Dumper 6T', rate: 1800 },\n  { name: 'Roller 120', rate: 1200 },\n  { name: 'Telehandler', rate: 3000 },\n];\n\nconst DayPicker = ({ month, selectedDays, onDaysChange }: DayPickerProps) => {\n  const [hoveredDay, setHoveredDay] = useState<number | null>(null);\n\n  const year = month.getFullYear();\n  const monthIndex = month.getMonth();\n  const firstDay = new Date(year, monthIndex, 1);\n  const lastDay = new Date(year, monthIndex + 1, 0);\n  const daysInMonth = lastDay.getDate();\n  const startingDayOfWeek = firstDay.getDay();\n\n  const days = Array.from({ length: daysInMonth }, (_, i) => i + 1);\n  const saHolidays = getSAHolidays(year);\n\n  const isDaySelected = (day: number): boolean => {\n    return selectedDays.some(\n      (d) => d.getDate() === day && d.getMonth() === monthIndex && d.getFullYear() === year\n    );\n  };\n\n  const isHoliday = (day: number): boolean => {\n    return saHolidays.some(\n      (d) => d.getDate() === day && d.getMonth() === monthIndex && d.getFullYear() === year\n    );\n  };\n\n  const toggleDay = (day: number) => {\n    const isSelected = isDaySelected(day);\n\n    if (isSelected) {\n      onDaysChange(\n        selectedDays.filter(\n          (d) =>\n            !(\n              d.getDate() === day &&\n              d.getMonth() === monthIndex &&\n              d.getFullYear() === year\n            )\n        )\n      );\n    } else {\n      onDaysChange([...selectedDays, new Date(year, monthIndex, day)]);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-xl border border-slate-200 p-3 shadow-sm\">\n      <div className=\"grid grid-cols-7 gap-1 mb-1\">\n        {['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'].map((day, i) => (\n          <div\n            key={day}\n            className={`text-center text-[10px] font-bold uppercase tracking-wider ${\n              i === 0 || i === 6 ? 'text-amber-500' : 'text-slate-400'\n            }`}\n          >\n            {day}\n          </div>\n        ))}\n      </div>\n\n      <div className=\"grid grid-cols-7 gap-1\">\n        {Array.from({ length: startingDayOfWeek }).map((_, i) => (\n          <div key={`empty-${i}`} />\n        ))}\n\n        {days.map((day) => {\n          const selected = isDaySelected(day);\n          const dateObj = new Date(year, monthIndex, day);\n          const dayOfWeek = dateObj.getDay();\n          const isWeekend = dayOfWeek === 0 || dayOfWeek === 6;\n          const isPublicHoliday = isHoliday(day);\n\n          return (\n            <button\n              key={day}\n              onClick={() => toggleDay(day)}\n              onMouseEnter={() => setHoveredDay(day)}\n              onMouseLeave={() => setHoveredDay(null)}\n              className={`\n                aspect-square rounded-md text-xs font-medium transition-all duration-200\n                flex items-center justify-center relative border\n                ${\n                  selected\n                    ? 'bg-red-500 text-white border-red-600 shadow-sm scale-105 hover:bg-red-600'\n                    : isWeekend\n                      ? 'bg-slate-100 text-slate-500 border-slate-200 hover:border-emerald-300 hover:bg-emerald-50'\n                      : 'bg-white text-slate-700 border-slate-100 hover:border-emerald-300 hover:bg-emerald-50'\n                }\n              `}\n            >\n              {day}\n              {isPublicHoliday && !selected && (\n                <div\n                  className=\"absolute -top-0.5 -right-0.5 w-1.5 h-1.5 bg-purple-400 rounded-full\"\n                  title=\"SA Public Holiday\"\n                />\n              )}\n            </button>\n          );\n        })}\n      </div>\n\n      <div className=\"mt-2 flex flex-wrap items-center justify-center gap-3 text-[10px] text-slate-500 bg-slate-50 p-1.5 rounded-lg border border-slate-100\">\n        <div className=\"flex items-center gap-1\">\n          <div className=\"w-2 h-2 bg-red-500 rounded-full\" />\n          <span>Idle</span>\n        </div>\n        <div className=\"flex items-center gap-1\">\n          <div className=\"w-2 h-2 bg-slate-200 rounded-sm border border-slate-300\" />\n          <span>Wknd</span>\n        </div>\n        <div className=\"flex items-center gap-1\">\n          <div className=\"w-1.5 h-1.5 bg-purple-400 rounded-full\" />\n          <span>SA Hol</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst EquipmentCard = ({\n  item,\n  onRemove,\n  onUpdateIdleDays,\n  onUpdateRates,\n}: EquipmentCardProps) => {\n  const [isCollapsed, setIsCollapsed] = useState(false);\n  const [currentMonth, setCurrentMonth] = useState(new Date());\n\n  const periods = calculatePeriods(item.idleDays, currentMonth);\n\n  const year = currentMonth.getFullYear();\n  const monthIndex = currentMonth.getMonth();\n  const saHolidays = getSAHolidays(year);\n\n  const invoiceGroups: Record<string, InvoiceGroup> = {};\n\n  periods.forEach((period) => {\n    const tierKey = String(period.tier.discount);\n\n    if (!invoiceGroups[tierKey]) {\n      invoiceGroups[tierKey] = {\n        tier: period.tier,\n        types: {\n          WEEKDAYS: [],\n          SATURDAYS: [],\n          'SUNDAYS & PUBLIC HOLIDAYS': [],\n        },\n      };\n    }\n\n    for (let d = period.start; d <= period.end; d++) {\n      const date = new Date(year, monthIndex, d);\n      const isHol = saHolidays.some(\n        (h) => h.getDate() === d && h.getMonth() === monthIndex && h.getFullYear() === year\n      );\n\n      if (isHol || date.getDay() === 0) {\n        invoiceGroups[tierKey].types['SUNDAYS & PUBLIC HOLIDAYS'].push(d);\n      } else if (date.getDay() === 6) {\n        invoiceGroups[tierKey].types.SATURDAYS.push(d);\n      } else {\n        invoiceGroups[tierKey].types.WEEKDAYS.push(d);\n      }\n    }\n  });\n\n  let totalCost = 0;\n  Object.values(invoiceGroups).forEach((group) => {\n    (Object.keys(group.types) as Array<keyof InvoiceGroup['types']>).forEach((type) => {\n      const days = group.types[type];\n      let rate = 0;\n      if (type === 'WEEKDAYS') rate = item.rates.weekday;\n      else if (type === 'SATURDAYS') rate = item.rates.saturday;\n      else rate = item.rates.sunday;\n\n      const subtotal = days.length * rate;\n      const discount = subtotal * (group.tier.discount / 100);\n      totalCost += subtotal - discount;\n    });\n  });\n\n  const toggleSpecificDays = (e: React.MouseEvent<HTMLButtonElement>, dayIndex: number) => {\n    e.stopPropagation();\n    const daysInMonth = new Date(year, monthIndex + 1, 0).getDate();\n    const idleTimestamps = new Set(item.idleDays.map((d) => d.getTime()));\n\n    let anyUnselected = false;\n    for (let d = 1; d <= daysInMonth; d++) {\n      const date = new Date(year, monthIndex, d);\n      if (date.getDay() === dayIndex && !idleTimestamps.has(date.getTime())) {\n        anyUnselected = true;\n        break;\n      }\n    }\n\n    let newIdleDays = [...item.idleDays];\n    if (anyUnselected) {\n      for (let d = 1; d <= daysInMonth; d++) {\n        const date = new Date(year, monthIndex, d);\n        if (date.getDay() === dayIndex && !idleTimestamps.has(date.getTime())) {\n          newIdleDays.push(date);\n        }\n      }\n    } else {\n      newIdleDays = newIdleDays.filter(\n        (d) => d.getMonth() !== monthIndex || d.getFullYear() !== year || d.getDay() !== dayIndex\n      );\n    }\n    onUpdateIdleDays(newIdleDays);\n  };\n\n  const toggleSAHolidays = (e: React.MouseEvent<HTMLButtonElement>) => {\n    e.stopPropagation();\n    const holidays = saHolidays.filter((d) => d.getMonth() === monthIndex);\n    if (holidays.length === 0) return;\n\n    const idleTimestamps = new Set(item.idleDays.map((d) => d.getTime()));\n    const anyUnselected = holidays.some((h) => !idleTimestamps.has(h.getTime()));\n\n    let newIdleDays = [...item.idleDays];\n    if (anyUnselected) {\n      holidays.forEach((h) => {\n        if (!idleTimestamps.has(h.getTime())) newIdleDays.push(h);\n      });\n    } else {\n      const holTimestamps = new Set(holidays.map((h) => h.getTime()));\n      newIdleDays = newIdleDays.filter((d) => !holTimestamps.has(d.getTime()));\n    }\n    onUpdateIdleDays(newIdleDays);\n  };\n\n  const handleRateChange = (type: keyof Rates, value: string) => {\n    onUpdateRates({\n      ...item.rates,\n      [type]: Number.parseFloat(value) || 0,\n    });\n  };\n\n  const resetRatesToFormula = () => {\n    onUpdateRates(calculateRates(item.rates.weekday));\n  };\n\n  const handlePrevMonth = () => {\n    const prev = new Date(currentMonth);\n    prev.setMonth(prev.getMonth() - 1);\n    setCurrentMonth(prev);\n  };\n\n  const handleNextMonth = () => {\n    const next = new Date(currentMonth);\n    next.setMonth(next.getMonth() + 1);\n    setCurrentMonth(next);\n  };\n\n  const monthLabel = currentMonth.toLocaleDateString('en-US', {\n    month: 'long',\n    year: 'numeric',\n  });\n\n  return (\n    <div className=\"bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden hover:shadow-md transition-shadow group\">\n      <div\n        className=\"bg-slate-50 border-b border-slate-100 p-3 flex justify-between items-center cursor-pointer hover:bg-slate-100 transition-colors select-none\"\n        onClick={() => setIsCollapsed(!isCollapsed)}\n      >\n        <div className=\"flex items-center gap-3\">\n          <div className=\"w-8 h-8 bg-emerald-100 rounded-lg flex items-center justify-center text-emerald-600 group-hover:scale-110 transition-transform\">\n            <Calculator className=\"w-5 h-5\" />\n          </div>\n          <div>\n            <h3 className=\"font-bold text-base text-slate-800\">{item.name}</h3>\n            <p className=\"text-xs text-slate-500 font-medium\">\n              {formatCurrency(item.rates.weekday)} (Base)\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"text-right mr-2 hidden sm:block\">\n            <div className=\"text-[10px] text-slate-400 font-medium uppercase tracking-wider\">\n              Total\n            </div>\n            <div className=\"font-bold text-emerald-700 text-base\">{formatCurrency(totalCost)}</div>\n          </div>\n          <div className=\"h-8 w-px bg-slate-200 hidden sm:block\" />\n          <button\n            onClick={(e) => {\n              e.stopPropagation();\n              onRemove();\n            }}\n            className=\"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors\"\n            title=\"Remove Item\"\n          >\n            <Trash2 className=\"w-5 h-5\" />\n          </button>\n          {isCollapsed ? (\n            <ChevronDown className=\"w-5 h-5 text-slate-400\" />\n          ) : (\n            <ChevronUp className=\"w-5 h-5 text-slate-400\" />\n          )}\n        </div>\n      </div>\n\n      {!isCollapsed && (\n        <div className=\"p-4 grid lg:grid-cols-[250px_1fr] gap-6 animate-in slide-in-from-top-2 duration-200\">\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center justify-between bg-slate-50 p-2 rounded-lg border border-slate-200\">\n              <button\n                onClick={handlePrevMonth}\n                className=\"p-1 hover:bg-white hover:shadow-sm rounded transition-all text-slate-500\"\n              >\n                <ChevronLeft className=\"w-4 h-4\" />\n              </button>\n              <span className=\"text-sm font-bold text-slate-700\">{monthLabel}</span>\n              <button\n                onClick={handleNextMonth}\n                className=\"p-1 hover:bg-white hover:shadow-sm rounded transition-all text-slate-500\"\n              >\n                <ChevronRight className=\"w-4 h-4\" />\n              </button>\n            </div>\n\n            <div>\n              <div className=\"flex items-center justify-between mb-2\">\n                <h4 className=\"text-xs font-bold text-slate-700 uppercase tracking-wide flex items-center gap-2\">\n                  <AlertCircle className=\"w-3.5 h-3.5 text-amber-500\" />\n                  Mark Idle Days\n                </h4>\n              </div>\n              <div className=\"flex gap-1.5 mb-2\">\n                <button\n                  type=\"button\"\n                  onClick={(e) => toggleSpecificDays(e, 6)}\n                  className=\"flex-1 text-[10px] font-medium bg-slate-100 hover:bg-slate-200 text-slate-600 px-1.5 py-1 rounded-md transition-colors flex items-center justify-center gap-1\"\n                  title=\"Toggle Saturdays\"\n                >\n                  <Moon className=\"w-3 h-3\" />\n                  Sat\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={(e) => toggleSpecificDays(e, 0)}\n                  className=\"flex-1 text-[10px] font-medium bg-slate-100 hover:bg-slate-200 text-slate-600 px-1.5 py-1 rounded-md transition-colors flex items-center justify-center gap-1\"\n                  title=\"Toggle Sundays\"\n                >\n                  <Sun className=\"w-3 h-3\" />\n                  Sun\n                </button>\n                <button\n                  onClick={toggleSAHolidays}\n                  className=\"flex-1 text-[10px] font-medium bg-purple-50 hover:bg-purple-100 text-purple-700 px-1.5 py-1 rounded-md transition-colors flex items-center justify-center gap-1\"\n                  title=\"Toggle SA Public Holidays\"\n                >\n                  <Palmtree className=\"w-3 h-3\" />\n                  SA Hol\n                </button>\n              </div>\n              <DayPicker month={currentMonth} selectedDays={item.idleDays} onDaysChange={onUpdateIdleDays} />\n            </div>\n\n            <div className=\"bg-slate-50 rounded-lg p-3 border border-slate-100 relative\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h4 className=\"text-xs font-bold text-slate-700 uppercase tracking-wide flex items-center gap-2\">\n                  <Coins className=\"w-3.5 h-3.5 text-emerald-500\" />\n                  Rates Config\n                </h4>\n                <button\n                  onClick={resetRatesToFormula}\n                  title=\"Reset to Formula\"\n                  className=\"text-slate-400 hover:text-emerald-600 transition-colors\"\n                >\n                  <RefreshCw className=\"w-3.5 h-3.5\" />\n                </button>\n              </div>\n\n              <div className=\"space-y-2\">\n                <div className=\"flex items-center justify-between\">\n                  <label className=\"text-[10px] font-medium text-slate-500\">Weekday</label>\n                  <div className=\"flex items-center bg-white border border-slate-200 rounded px-2 py-1 w-24 focus-within:ring-1 focus-within:ring-emerald-500\">\n                    <span className=\"text-[10px] text-slate-400 mr-1\">R</span>\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      step=\"0.01\"\n                      placeholder=\"0.00\"\n                      className=\"w-full text-xs outline-none text-right font-medium text-slate-700\"\n                      value={item.rates.weekday}\n                      onChange={(e) => handleRateChange('weekday', e.target.value)}\n                    />\n                  </div>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <label className=\"text-[10px] font-medium text-slate-500\">\n                    Saturday\n                    <span className=\"block text-[8px] text-slate-400 font-normal\">\n                      Base + (5% × 1.5)\n                    </span>\n                  </label>\n                  <div className=\"flex items-center bg-white border border-slate-200 rounded px-2 py-1 w-24 focus-within:ring-1 focus-within:ring-emerald-500\">\n                    <span className=\"text-[10px] text-slate-400 mr-1\">R</span>\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      step=\"0.01\"\n                      placeholder=\"0.00\"\n                      className=\"w-full text-xs outline-none text-right font-medium text-slate-700\"\n                      value={item.rates.saturday}\n                      onChange={(e) => handleRateChange('saturday', e.target.value)}\n                    />\n                  </div>\n                </div>\n                <div className=\"flex items-center justify-between\">\n                  <label className=\"text-[10px] font-medium text-slate-500\">\n                    Sun/Hol\n                    <span className=\"block text-[8px] text-slate-400 font-normal\">\n                      Base + (5% × 2.0)\n                    </span>\n                  </label>\n                  <div className=\"flex items-center bg-white border border-slate-200 rounded px-2 py-1 w-24 focus-within:ring-1 focus-within:ring-emerald-500\">\n                    <span className=\"text-[10px] text-slate-400 mr-1\">R</span>\n                    <input\n                      type=\"number\"\n                      min=\"0\"\n                      step=\"0.01\"\n                      placeholder=\"0.00\"\n                      className=\"w-full text-xs outline-none text-right font-medium text-slate-700\"\n                      value={item.rates.sunday}\n                      onChange={(e) => handleRateChange('sunday', e.target.value)}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex flex-col h-full\">\n            <h4 className=\"text-xs font-bold text-slate-700 uppercase tracking-wide mb-2 flex items-center gap-2\">\n              <Receipt className=\"w-3.5 h-3.5 text-emerald-500\" />\n              Invoice Breakdown\n            </h4>\n\n            <div className=\"bg-slate-50 rounded-lg border border-slate-100 flex-1 flex flex-col overflow-hidden\">\n              <div className=\"grid grid-cols-12 gap-2 p-2 bg-slate-50 border-b border-slate-200 text-[10px] font-bold text-slate-500 uppercase tracking-wider\">\n                <div className=\"col-span-5\">Description</div>\n                <div className=\"col-span-2 text-right\">Days</div>\n                <div className=\"col-span-2 text-right\">Disc.</div>\n                <div className=\"col-span-3 text-right\">Total</div>\n              </div>\n\n              <div className=\"overflow-y-auto max-h-[350px]\">\n                {Object.keys(invoiceGroups).length === 0 ? (\n                  <div className=\"text-center py-8 text-xs text-slate-400 italic\">\n                    Mark periods on the calendar to see breakdown.\n                  </div>\n                ) : (\n                  Object.keys(invoiceGroups)\n                    .sort((a, b) => Number(a) - Number(b))\n                    .map((tierKey) => {\n                      const group = invoiceGroups[tierKey];\n                      const typeOrder: Array<keyof InvoiceGroup['types']> = [\n                        'WEEKDAYS',\n                        'SATURDAYS',\n                        'SUNDAYS & PUBLIC HOLIDAYS',\n                      ];\n\n                      return (\n                        <div key={tierKey} className=\"border-b last:border-0 border-slate-100\">\n                          {typeOrder.map((type) => {\n                            const days = group.types[type];\n                            if (days.length === 0) return null;\n\n                            let rate = 0;\n                            if (type === 'WEEKDAYS') rate = item.rates.weekday;\n                            else if (type === 'SATURDAYS') rate = item.rates.saturday;\n                            else rate = item.rates.sunday;\n\n                            const subtotal = days.length * rate;\n                            const total = subtotal * (1 - group.tier.discount / 100);\n                            const rangeStr = formatDayRanges(days);\n\n                            return (\n                              <div\n                                key={type}\n                                className=\"grid grid-cols-12 gap-2 p-2 text-xs hover:bg-slate-50/50 transition-colors\"\n                              >\n                                <div className=\"col-span-5 font-medium text-slate-700\">\n                                  <div className=\"flex flex-col\">\n                                    <span className=\"text-slate-900 font-bold\">{type}</span>\n                                    <span className=\"text-[10px] text-slate-400 font-normal mt-0.5\">\n                                      {rangeStr}\n                                    </span>\n                                  </div>\n                                </div>\n                                <div className=\"col-span-2 text-right font-medium text-slate-600 mt-1\">\n                                  <div className=\"flex flex-col items-end\">\n                                    <span>{days.length}</span>\n                                    <span className=\"text-[9px] text-slate-400\">\n                                      @ {formatCurrency(rate)}\n                                    </span>\n                                  </div>\n                                </div>\n                                <div\n                                  className={`col-span-2 text-right font-bold mt-1 ${\n                                    group.tier.discount > 0 ? 'text-emerald-600' : 'text-slate-400'\n                                  }`}\n                                >\n                                  {group.tier.discount}%\n                                </div>\n                                <div className=\"col-span-3 text-right font-bold text-slate-800 mt-1\">\n                                  {formatCurrency(total)}\n                                </div>\n                              </div>\n                            );\n                          })}\n                        </div>\n                      );\n                    })\n                )}\n              </div>\n\n              <div className=\"mt-auto border-t border-slate-200 p-3 bg-slate-50\">\n                <div className=\"flex justify-between items-center\">\n                  <span className=\"text-slate-500 font-medium text-xs\">Final Amount</span>\n                  <span className=\"text-xl font-bold text-emerald-700\">{formatCurrency(totalCost)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nconst PlantHireCalculator = () => {\n  const [equipment, setEquipment] = useState<EquipmentItem[]>([\n    {\n      id: '1',\n      name: 'Excavator 20T',\n      rates: calculateRates(2500),\n      idleDays: [],\n    },\n  ]);\n  const [newEquipmentName, setNewEquipmentName] = useState('');\n  const [newDailyRate, setNewDailyRate] = useState('');\n\n  const addEquipment = (e?: React.FormEvent<HTMLFormElement>) => {\n    e?.preventDefault();\n    if (!newEquipmentName || !newDailyRate) return;\n\n    const baseRate = Number.parseFloat(newDailyRate);\n    const newItem: EquipmentItem = {\n      id: Date.now().toString(),\n      name: newEquipmentName,\n      rates: calculateRates(baseRate),\n      idleDays: [],\n    };\n\n    setEquipment([...equipment, newItem]);\n    setNewEquipmentName('');\n    setNewDailyRate('');\n  };\n\n  const removeEquipment = (id: string) => {\n    setEquipment(equipment.filter((item) => item.id !== id));\n  };\n\n  const updateIdleDays = (id: string, days: Date[]) => {\n    setEquipment(equipment.map((item) => (item.id === id ? { ...item, idleDays: days } : item)));\n  };\n\n  const updateRates = (id: string, newRates: Rates) => {\n    setEquipment(equipment.map((item) => (item.id === id ? { ...item, rates: newRates } : item)));\n  };\n\n  const fillPreset = (preset: { name: string; rate: number }) => {\n    setNewEquipmentName(preset.name);\n    setNewDailyRate(String(preset.rate));\n  };\n\n  const grandTotal = equipment.reduce((sum, item) => {\n    const currentMonth = new Date();\n    const periods = calculatePeriods(item.idleDays, currentMonth);\n    const year = currentMonth.getFullYear();\n    const monthIndex = currentMonth.getMonth();\n    const saHolidays = getSAHolidays(year);\n\n    let itemTotal = 0;\n    periods.forEach((period) => {\n      for (let d = period.start; d <= period.end; d++) {\n        const date = new Date(year, monthIndex, d);\n        const isHol = saHolidays.some(\n          (h) => h.getDate() === d && h.getMonth() === monthIndex && h.getFullYear() === year\n        );\n\n        let dailyRate = item.rates.weekday;\n        if (isHol || date.getDay() === 0) dailyRate = item.rates.sunday;\n        else if (date.getDay() === 6) dailyRate = item.rates.saturday;\n\n        itemTotal += dailyRate * (1 - period.tier.discount / 100);\n      }\n    });\n\n    return sum + itemTotal;\n  }, 0);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-emerald-50 via-slate-50 to-teal-50 p-4 md:p-8 font-sans text-slate-800\">\n      <div className=\"max-w-5xl mx-auto space-y-8\">\n        <div className=\"flex flex-col md:flex-row md:items-end justify-between gap-4\">\n          <div>\n            <h1 className=\"text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-emerald-700 to-teal-600 mb-2\">\n              Plant Hire Calculator\n            </h1>\n            <p className=\"text-slate-500 font-medium\">\n              Strict period discounting (Gaps break continuity)\n            </p>\n          </div>\n        </div>\n\n        <div className=\"bg-white rounded-xl p-6 shadow-sm border border-slate-200\">\n          <div className=\"flex flex-wrap gap-2 mb-4\">\n            <span className=\"text-xs font-semibold text-slate-400 uppercase tracking-wide py-1.5\">\n              Quick Add:\n            </span>\n            {PRESETS.map((preset, idx) => (\n              <button\n                key={idx}\n                onClick={() => fillPreset(preset)}\n                className=\"text-xs font-medium px-3 py-1.5 rounded-full bg-slate-100 hover:bg-emerald-100 text-slate-600 hover:text-emerald-700 transition-colors\"\n              >\n                {preset.name}\n              </button>\n            ))}\n          </div>\n\n          <form onSubmit={addEquipment} className=\"flex flex-col md:flex-row gap-3\">\n            <input\n              id=\"equipment-name\"\n              placeholder=\"Equipment Name (e.g., Dump Truck)\"\n              value={newEquipmentName}\n              onChange={(e) => setNewEquipmentName(e.target.value)}\n              aria-label=\"Equipment Name\"\n              className=\"flex-1 px-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-all\"\n            />\n            <div className=\"relative\">\n              <span className=\"absolute left-3 top-2.5 text-slate-400 font-medium\">R</span>\n              <input\n                id=\"equipment-rate\"\n                placeholder=\"Rate\"\n                type=\"number\"\n                min=\"0\"\n                step=\"0.01\"\n                value={newDailyRate}\n                onChange={(e) => setNewDailyRate(e.target.value)}\n                aria-label=\"Rate per day\"\n                className=\"w-full md:w-32 pl-8 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 transition-all\"\n              />\n            </div>\n            <button\n              type=\"submit\"\n              className=\"bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2.5 rounded-lg font-medium shadow-sm shadow-emerald-200 active:scale-95 transition-all flex items-center justify-center gap-2\"\n            >\n              <Plus className=\"w-5 h-5\" />\n              Add\n            </button>\n          </form>\n        </div>\n\n        <div className=\"space-y-4\">\n          {equipment.length === 0 ? (\n            <div className=\"text-center py-20 bg-white/50 border-2 border-dashed border-slate-300 rounded-2xl\">\n              <Calculator className=\"w-16 h-16 text-slate-300 mx-auto mb-4\" />\n              <h3 className=\"text-lg font-medium text-slate-500\">No equipment added yet</h3>\n              <p className=\"text-slate-400\">Add a machine above to start calculating</p>\n            </div>\n          ) : (\n            equipment.map((item) => (\n              <EquipmentCard\n                key={item.id}\n                item={item}\n                onRemove={() => removeEquipment(item.id)}\n                onUpdateIdleDays={(days) => updateIdleDays(item.id, days)}\n                onUpdateRates={(newRates) => updateRates(item.id, newRates)}\n              />\n            ))\n          )}\n        </div>\n\n        {equipment.length > 0 && (\n          <div className=\"sticky bottom-4 z-10\">\n            <div className=\"bg-slate-900 text-white rounded-xl shadow-2xl p-6 flex flex-col md:flex-row items-center justify-between gap-6 border border-slate-700 backdrop-blur-xl bg-opacity-95\">\n              <div className=\"flex items-center gap-4\">\n                <div className=\"p-3 bg-emerald-500 rounded-lg text-emerald-950\">\n                  <Info className=\"w-6 h-6\" />\n                </div>\n                <div>\n                  <h3 className=\"font-bold text-lg\">Invoice Total</h3>\n                  <p className=\"text-slate-400 text-sm\">\n                    {equipment.length} machine{equipment.length !== 1 && 's'} calculated\n                  </p>\n                </div>\n              </div>\n              <div className=\"text-4xl font-extrabold text-emerald-400\">\n                {formatCurrency(grandTotal)}\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"bg-slate-100 rounded-xl p-6 text-sm text-slate-600 border border-slate-200\">\n          <h4 className=\"font-bold text-slate-800 mb-2 flex items-center gap-2\">\n            <Info className=\"w-4 h-4\" />\n            Calculation Rules\n          </h4>\n          <ul className=\"grid md:grid-cols-3 gap-4 list-disc list-inside marker:text-emerald-500\">\n            <li>\n              Any idle day <span className=\"font-medium text-red-600\">breaks continuity</span>.\n            </li>\n            <li>\n              5-14 continuous days: <span className=\"font-medium text-emerald-700\">5% Off</span>.\n            </li>\n            <li>\n              15+ continuous days: <span className=\"font-medium text-emerald-700\">10% Off</span>.\n            </li>\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PlantHireCalculator;\n"],"names":["c","_c","React","useState","Plus","Trash2","Calendar","Info","Calculator","CheckCircle2","AlertCircle","ChevronDown","ChevronUp","Wand2","Receipt","Palmtree","Sun","Moon","Coins","RefreshCw","ChevronLeft","ChevronRight","DiscountTier","discount","label","color","bg","borderColor","Period","start","end","length","tier","Rates","weekday","saturday","sunday","EquipmentItem","id","name","rates","idleDays","Date","DayPickerProps","month","selectedDays","onDaysChange","days","EquipmentCardProps","item","onRemove","onUpdateIdleDays","onUpdateRates","InvoiceGroup","types","WEEKDAYS","SATURDAYS","getDiscountTier","formatCurrency","val","toFixed","replace","calculatePeriods","year","getFullYear","monthIndex","getMonth","lastDay","totalDaysInMonth","getDate","idleDaySet","Set","filter","d","map","periods","currentStart","isIdle","has","push","p","getSAHolidays","f","Math","floor","G","C","H","I","J","L","day","easterSunday","goodFriday","familyDay","fixedDates","holidays","forEach","date","getDay","mondayObserved","setDate","formatDayRanges","sorted","sort","a","b","ranges","prev","i","join","calculateRates","baseRate","r","Number","parseFloat","String","PRESETS","rate","DayPicker","t0","$","$i","Symbol","for","setHoveredDay","t1","t2","t3","t4","t5","firstDay","daysInMonth","startingDayOfWeek","Array","from","_temp","saHolidays","isDaySelected","some","isHoliday","day_0","d_0","toggleDay","day_1","isSelected","d_1","_temp2","_temp3","day_3","selected","dateObj","dayOfWeek","isWeekend","isPublicHoliday","t6","t7","t8","t9","t10","EquipmentCard","isCollapsed","setIsCollapsed","currentMonth","setCurrentMonth","invoiceGroups","Record","period","tierKey","isHol","h","totalCost","Object","values","group","keys","type","subtotal","toggleSpecificDays","e","MouseEvent","HTMLButtonElement","dayIndex","stopPropagation","idleTimestamps","getTime","anyUnselected","newIdleDays","toggleSAHolidays","holTimestamps","handleRateChange","value","resetRatesToFormula","handlePrevMonth","setMonth","handleNextMonth","next","monthLabel","toLocaleDateString","target","typeOrder","total","rangeStr","PlantHireCalculator","equipment","setEquipment","newEquipmentName","setNewEquipmentName","newDailyRate","setNewDailyRate","addEquipment","FormEvent","HTMLFormElement","preventDefault","newItem","now","toString","removeEquipment","updateIdleDays","updateRates","newRates","fillPreset","preset","grandTotal","reduce","sum","itemTotal","dailyRate","idx","_","day_2","i_0","__0","i_1"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,OAAOC,KAAK,IAAIC,QAAQ,QAAQ,OAAO;;;;;;;;;;;AACvC,SACEC,IAAI,EACJC,MAAM,EACNC,QAAQ,EACRC,IAAI,EACJC,UAAU,EACVC,YAAY,EACZC,WAAW,EACXC,WAAW,EACXC,SAAS,EACTC,KAAK,EACLC,OAAO,EACPC,QAAQ,EACRC,GAAG,EACHC,IAAI,EACJC,KAAK,EACLC,SAAS,EACTC,WAAW,EACXC,YAAY,QACP,cAAc;;;;;;;AAtBrB,YAAY;;;;AA0EZ,MAAMoC,eAAe,GAAGA,CAACV,IAAI,EAAE,MAAM,CAAC,EAAEzB,YAAY,IAAI;IACtD,IAAIyB,IAAI,IAAI,EAAE,EAAE;QACd,OAAO;YACLxB,QAAQ,EAAE,EAAE;YACZC,KAAK,EAAE,WAAW;YAClBC,KAAK,EAAE,gBAAgB;YACvBC,EAAE,EAAE,cAAc;YAClBC,WAAW,EAAE;QACf,CAAC;IACH;IACA,IAAIoB,IAAI,IAAI,CAAC,EAAE;QACb,OAAO;YACLxB,QAAQ,EAAE,CAAC;YACXC,KAAK,EAAE,aAAa;YACpBC,KAAK,EAAE,kBAAkB;YACzBC,EAAE,EAAE,gBAAgB;YACpBC,WAAW,EAAE;QACf,CAAC;IACH;IACA,OAAO;QACLJ,QAAQ,EAAE,CAAC;QACXC,KAAK,EAAE,UAAU;QACjBC,KAAK,EAAE,gBAAgB;QACvBC,EAAE,EAAE,aAAa;QACjBC,WAAW,EAAE;IACf,CAAC;AACH,CAAC;AAED,MAAM+B,cAAc,GAAGA,CAACC,GAAG,EAAE,MAAM,CAAC,EAAE,MAAM,IAAI;IAC9C,OAAO,CAAA,CAAA,EAAI,CAACA,GAAG,IAAI,CAAC,EAAEC,OAAO,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC,EAAE;AAC1E,CAAC;AAED,MAAMC,gBAAgB,GAAGA,CAACrB,QAAQ,EAAUG,AAARF,IAAI,CAAS,CAAP,CAASA,IAAI,CAAC,EAAEd,MAAM,EAAE,IAAI;IACpE,MAAMmC,IAAI,GAAGnB,KAAK,CAACoB,WAAW,CAAC,CAAC;IAChC,MAAMC,UAAU,GAAGrB,KAAK,CAACsB,QAAQ,CAAC,CAAC;IACnC,MAAMC,OAAO,GAAG,IAAIzB,IAAI,CAACqB,IAAI,EAAEE,UAAU,GAAG,CAAC,EAAE,CAAC,CAAC;IACjD,MAAMG,gBAAgB,GAAGD,OAAO,CAACE,OAAO,CAAC,CAAC;IAE1C,MAAMC,UAAU,GAAG,IAAIC,GAAG,CACxB,CAAC9B,QAAQ,IAAI,EAAE,EACZ+B,MAAM,EAAEC,CAAC,GAAKA,CAAC,CAACP,QAAQ,CAAC,CAAC,KAAKD,UAAU,IAAIQ,CAAC,CAACT,WAAW,CAAC,CAAC,KAAKD,IAAI,CAAC,CACtEW,GAAG,EAAED,CAAC,GAAKA,CAAC,CAACJ,OAAO,CAAC,CAAC,CAC3B,CAAC;IAED,MAAMM,OAAO,EAAE,CAAmD,EAAE;IACpE,IAAIC,YAAY,EAAE,CAAgB,IAAI,CAAd,GAAG,IAAI;IAE/B,IAAK,IAAIH,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAIL,gBAAgB,EAAEK,CAAC,EAAE,CAAE;QAC1C,MAAMI,MAAM,GAAGP,UAAU,CAACQ,GAAG,CAACL,CAAC,CAAC;QAEhC,IAAI,CAACI,MAAM,EAAE;YACX,IAAID,YAAY,KAAK,IAAI,EAAE;gBACzBA,YAAY,GAAGH,CAAC;YAClB;YACA,IAAIA,CAAC,KAAKL,gBAAgB,IAAIQ,YAAY,KAAK,IAAI,EAAE;gBACnDD,OAAO,CAACI,IAAI,CAAC;oBAAElD,KAAK,EAAE+C,YAAY;oBAAE9C,GAAG,EAAE2C,CAAC;oBAAE1C,MAAM,EAAE0C,CAAC,GAAGG,YAAY,GAAG;gBAAE,CAAC,CAAC;YAC7E;QACF,CAAC,MAAM,IAAIA,YAAY,KAAK,IAAI,EAAE;YAChCD,OAAO,CAACI,IAAI,CAAC;gBACXlD,KAAK,EAAE+C,YAAY;gBACnB9C,GAAG,EAAE2C,CAAC,GAAG,CAAC;gBACV1C,MAAM,EAAG0C,CAAC,GAAG,CAAC,GAAIG,YAAY,GAAG;YACnC,CAAC,CAAC;YACFA,YAAY,GAAG,IAAI;QACrB;IACF;IAEA,OAAOD,OAAO,CAACD,GAAG,EAAEM,CAAC,GAAA,CAAM;YACzB,GAAGA,CAAC;YACJhD,IAAI,EAAEyB,eAAe,CAACuB,CAAC,CAACjD,MAAM;QAChC,CAAC,CAAC,CAAC;AACL,CAAC;AAED,MAAMkD,aAAa,GAAGA,CAAClB,IAAI,EAAE,MAAM,CAAC,EAAErB,IAAI,EAAE,IAAI;IAC9C,MAAMwC,CAAC,GAAGC,IAAI,CAACC,KAAK;IACpB,MAAMC,CAAC,GAAGtB,IAAI,GAAG,EAAE;IACnB,MAAMuB,CAAC,GAAGJ,CAAC,CAACnB,IAAI,GAAG,GAAG,CAAC;IACvB,MAAMwB,CAAC,GAAG,CAACD,CAAC,GAAGJ,CAAC,CAACI,CAAC,GAAG,CAAC,CAAC,GAAGJ,CAAC,CAAC,CAAC,CAAC,GAAGI,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC,GAAG,EAAE,GAAGD,CAAC,GAAG,EAAE,IAAI,EAAE;IAClE,MAAMG,CAAC,GAAGD,CAAC,GAAGL,CAAC,CAACK,CAAC,GAAG,EAAE,CAAC,GAAA,CAAI,CAAC,GAAGL,CAAC,CAAC,EAAE,GAAA,CAAIK,CAAC,GAAG,CAAC,CAAC,CAAC,GAAGL,CAAC,CAAC,CAAC,EAAE,GAAGG,CAAC,IAAI,EAAE,CAAC,CAAC;IAClE,MAAMI,CAAC,GAAG,CAAC1B,IAAI,GAAGmB,CAAC,CAACnB,IAAI,GAAG,CAAC,CAAC,GAAGyB,CAAC,GAAG,CAAC,GAAGF,CAAC,GAAGJ,CAAC,CAACI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;IACzD,MAAMI,CAAC,GAAGF,CAAC,GAAGC,CAAC;IACf,MAAM7C,KAAK,GAAG,CAAC,GAAGsC,CAAC,CAAC,CAACQ,CAAC,GAAG,EAAE,IAAI,EAAE,CAAC;IAClC,MAAMC,GAAG,GAAGD,CAAC,GAAG,EAAE,GAAG,EAAE,GAAGR,CAAC,CAACtC,KAAK,GAAG,CAAC,CAAC;IAEtC,MAAMgD,YAAY,GAAG,IAAIlD,IAAI,CAACqB,IAAI,EAAEnB,KAAK,GAAG,CAAC,EAAE+C,GAAG,CAAC;IACnD,MAAME,UAAU,GAAG,IAAInD,IAAI,CAACqB,IAAI,EAAEnB,KAAK,GAAG,CAAC,EAAE+C,GAAG,GAAG,CAAC,CAAC;IACrD,MAAMG,SAAS,GAAG,IAAIpD,IAAI,CAACqB,IAAI,EAAEnB,KAAK,GAAG,CAAC,EAAE+C,GAAG,GAAG,CAAC,CAAC;IAEpD,MAAMI,UAAU,GAAG;QACjB,IAAIrD,IAAI,CAACqB,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QACpB,IAAIrB,IAAI,CAACqB,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC;QACrB,IAAIrB,IAAI,CAACqB,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC;QACrB,IAAIrB,IAAI,CAACqB,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QACpB,IAAIrB,IAAI,CAACqB,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC;QACrB,IAAIrB,IAAI,CAACqB,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC;QACpB,IAAIrB,IAAI,CAACqB,IAAI,EAAE,CAAC,EAAE,EAAE,CAAC;QACrB,IAAIrB,IAAI,CAACqB,IAAI,EAAE,EAAE,EAAE,EAAE,CAAC;QACtB,IAAIrB,IAAI,CAACqB,IAAI,EAAE,EAAE,EAAE,EAAE,CAAC;QACtB,IAAIrB,IAAI,CAACqB,IAAI,EAAE,EAAE,EAAE,EAAE,CAAC;KACvB;IAED,MAAMiC,QAAQ,EAAEtD,CAAS,GAAL,EAAE;QAAImD,UAAU;QAAEC,SAAS;KAAC;IAEhDC,UAAU,CAACE,OAAO,EAAEC,IAAI,IAAK;QAC3BF,QAAQ,CAACjB,IAAI,CAACmB,IAAI,CAAC;QACnB,IAAIA,IAAI,CAACC,MAAM,CAAC,CAAC,KAAK,CAAC,EAAE;YACvB,MAAMC,cAAc,GAAG,IAAI1D,IAAI,CAACwD,IAAI,CAAC;YACrCE,cAAc,CAACC,OAAO,CAACH,IAAI,CAAC7B,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC;YAC1C2B,QAAQ,CAACjB,IAAI,CAACqB,cAAc,CAAC;QAC/B;IACF,CAAC,CAAC;IAEF,OAAOJ,QAAQ;AACjB,CAAC;AAED,MAAMM,eAAe,GAAGA,CAACvD,IAAI,EAAE,MAAM,EAAE,CAAC,EAAE,MAAM,IAAI;IAClD,IAAIA,IAAI,CAAChB,MAAM,KAAK,CAAC,EAAE,OAAO,EAAE;IAEhC,MAAMwE,MAAM,GAAG,CAAC;WAAGxD,IAAI;KAAC,CAACyD,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,GAAKD,CAAC,GAAGC,CAAC,CAAC;IAC9C,MAAMC,MAAM,EAAE,CAAW,EAAE,GAAP,EAAE;IACtB,IAAI9E,KAAK,GAAG0E,MAAM,CAAC,CAAC,CAAC;IACrB,IAAIK,IAAI,GAAGL,MAAM,CAAC,CAAC,CAAC;IAEpB,IAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,MAAM,CAACxE,MAAM,EAAE8E,CAAC,EAAE,CAAE;QACtC,IAAIN,MAAM,CAACM,CAAC,CAAC,KAAKD,IAAI,GAAG,CAAC,EAAE;YAC1BD,MAAM,CAAC5B,IAAI,CAAClD,KAAK,KAAK+E,IAAI,GAAG,GAAG/E,KAAK,EAAE,GAAG,GAAGA,KAAK,CAAA,CAAA,EAAI+E,IAAI,EAAE,CAAC;YAC7D/E,KAAK,GAAG0E,MAAM,CAACM,CAAC,CAAC;QACnB;QACAD,IAAI,GAAGL,MAAM,CAACM,CAAC,CAAC;IAClB;IACAF,MAAM,CAAC5B,IAAI,CAAClD,KAAK,KAAK+E,IAAI,GAAG,GAAG/E,KAAK,EAAE,GAAG,GAAGA,KAAK,CAAA,CAAA,EAAI+E,IAAI,EAAE,CAAC;IAC7D,OAAOD,MAAM,CAACG,IAAI,CAAC,IAAI,CAAC;AAC1B,CAAC;AAED,MAAMC,cAAc,GAAGA,CAACC,QAAQ,EAAE,MAAM,CAAC,EAAE/E,KAAK,IAAI;IAClD,MAAMgF,CAAC,GAAGC,MAAM,CAACC,UAAU,CAACC,MAAM,CAACJ,QAAQ,CAAC,CAAC,IAAI,CAAC;IAClD,OAAO;QACL9E,OAAO,EAAE+E,CAAC;QACV9E,QAAQ,EAAE8E,CAAC,GAAGA,CAAC,GAAG,IAAI,GAAG,GAAG;QAC5B7E,MAAM,EAAE6E,CAAC,GAAGA,CAAC,GAAG,IAAI,GAAG;IACzB,CAAC;AACH,CAAC;AAED,MAAMI,OAAO,GAAG;IACd;QAAE9E,IAAI,EAAE,gBAAgB;QAAE+E,IAAI,EAAE;IAAK,CAAC;IACtC;QAAE/E,IAAI,EAAE,WAAW;QAAE+E,IAAI,EAAE;IAAK,CAAC;IACjC;QAAE/E,IAAI,EAAE,YAAY;QAAE+E,IAAI,EAAE;IAAK,CAAC;IAClC;QAAE/E,IAAI,EAAE,aAAa;QAAE+E,IAAI,EAAE;IAAK,CAAC;CACpC;AAED,mBAAkBE,EAAA;;IAAA,MAAAC,CAAA,OAAAxH,gLAAA,EAAA;IAAA,IAAAwH,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAC,MAAA,EAAA7E,KAAA,EAAAC,YAAA,EAAAC,YAAAA,EAAA,GAAA0E,EAAqD;IACtE,MAAA,GAAAK,aAAA,CAAA,OAAoC1H,yKAAQ,EAAgB,IAAI,CAAC;IAAC,IAAA2H,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAC,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAA7E,KAAA,IAAA6E,CAAA,CAAA,EAAA,KAAA3E,YAAA,IAAA2E,CAAA,CAAA,EAAA,KAAA5E,YAAA,EAAA;QAElE,MAAAkB,IAAA,GAAanB,KAAK,CAAAoB,WAAY,CAAC,CAAC;QAChC,MAAAC,UAAA,GAAmBrB,KAAK,CAAAsB,QAAS,CAAC,CAAC;QACnC,MAAAiE,QAAA,GAAiB,IAAIzF,IAAI,CAACqB,IAAI,EAAEE,UAAU,EAAE,CAAC,CAAC;QAC9C,MAAAE,OAAA,GAAgB,IAAIzB,IAAI,CAACqB,IAAI,EAAEE,UAAU,GAAG,CAAC,EAAE,CAAC,CAAC;QACjD,MAAAmE,WAAA,GAAoBjE,OAAO,CAAAE,OAAQ,CAAC,CAAC;QACrC,MAAAgE,iBAAA,GAA0BF,QAAQ,CAAAhC,MAAO,CAAC,CAAC;QAE3C,MAAApD,IAAA,GAAauF,KAAK,CAAAC,IAAK,CAAC;YAAAxG,MAAA,EAAUqG;QAAY,CAAC,EAAEI,KAAe,CAAC;QACjE,MAAAC,UAAA,GAAmBxD,aAAa,CAAClB,IAAI,CAAC;QAEtC,MAAA2E,aAAA,IAAsB/C,GAAA,GACb9C,YAAY,CAAA8F,IAAK,CACtBlE,CAAA,IAAOA,CAAC,CAAAJ,OAAQ,CAAC,CAAC,KAAKsB,GAAkC,IAA3BlB,CAAC,CAAAP,QAAS,CAAC,CAAC,KAAKD,UAAsC,IAAxBQ,CAAC,CAAAT,WAAY,CAAC,CAAC,KAAKD,IACnF,CACD;QAED,MAAA6E,SAAA,IAAkBC,KAAA,GACTJ,UAAU,CAAAE,IAAK,EACpBG,GAAA,GAAOrE,GAAC,CAAAJ,OAAQ,CAAC,CAAC,KAAKsB,KAAkC,IAA3BlB,GAAC,CAAAP,QAAS,CAAC,CAAC,KAAKD,UAAsC,IAAxBQ,GAAC,CAAAT,WAAY,CAAC,CAAC,KAAKD,IACnF,CACD;QAED,MAAAgF,SAAA,IAAkBC,KAAA;YAChB,MAAAC,UAAA,GAAmBP,aAAa,CAAC/C,KAAG,CAAC;YAErC,IAAIsD,UAAU,EAAA;gBACZnG,YAAY,CACVD,YAAY,CAAA2B,MAAO,EACjB0E,GAAA,GACE,CAAA,CACEzE,GAAC,CAAAJ,OAAQ,CAAC,CAAC,KAAKsB,KACW,IAA3BlB,GAAC,CAAAP,QAAS,CAAC,CAAC,KAAKD,UACO,IAAxBQ,GAAC,CAAAT,WAAY,CAAC,CAAC,KAAKD,IAAI,CAE9B,CACF,CAAC;YAAA,OAAA;gBAEDjB,YAAY,CAAC;uBAAID,YAAY;oBAAE,IAAIH,IAAI,CAACqB,IAAI,EAAEE,UAAU,EAAE0B,KAAG,CAAC;iBAAC,CAAC;YAAA;QACjE,CACF;QAGgBsC,EAAA,GAAA,2DAA2D;QAAA,IAAAR,CAAA,CAAA,EAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;YACxEM,EAAA,iBAAA,6LAAA,GAWM;gBAXS,SAA6B,EAA7B,6BAA6B,CACzC;0BAAA;oBAAC,IAAI;oBAAE,IAAI;oBAAE,IAAI;oBAAE,IAAI;oBAAE,IAAI;oBAAE,IAAI;oBAAE,IAAI;iBAAC,CAAAxD,GAAI,CAACyE,MAS/C,EACH,EAXA,GAWM;;;;;;YAAA1B,CAAA,CAAA,EAAA,GAAAS,EAAA;QAAA,OAAA;YAAAA,EAAA,GAAAT,CAAA,CAAA,EAAA;QAAA;QAESK,EAAA,GAAA,wBAAwB;QACpCC,EAAA,GAAAO,KAAK,CAAAC,IAAK,CAAC;YAAAxG,MAAA,EAAUsG;QAAkB,CAAC,CAAC,CAAA3D,GAAI,CAAC0E,MAE9C,CAAC;QAEDpB,EAAA,GAAAjF,IAAI,CAAA2B,GAAI,EAAC2E,KAAA;YACR,MAAAC,QAAA,GAAiBZ,aAAa,CAAC/C,KAAG,CAAC;YACnC,MAAA4D,OAAA,GAAgB,IAAI7G,IAAI,CAACqB,IAAI,EAAEE,UAAU,EAAE0B,KAAG,CAAC;YAC/C,MAAA6D,SAAA,GAAkBD,OAAO,CAAApD,MAAO,CAAC,CAAC;YAClC,MAAAsD,SAAA,GAAkBD,SAAS,KAAK,CAAoB,IAAfA,SAAS,KAAK,CAAC;YACpD,MAAAE,eAAA,GAAwBd,SAAS,CAACjD,KAAG,CAAC;YAAC,qBAGrC,6LAAA,MAwBS,CAvBFA,GAAG,CAAHA;gBACI,OAAoB,CAApB,CAAA,IAAMoD,SAAS,CAACpD,KAAG,EAAC;gBACf,YAAwB,CAAxB,CAAA,IAAMkC,aAAa,CAAClC,KAAG,EAAC;gBACxB,YAAyB,CAAzB,CAAA,IAAMkC,aAAa,CAAC,IAAI,EAAC;gBAC5B,SAUV,CAVU,CAAA,CAAA;;;gBAGzB,EACkByB,QAAQ,GAAR,2EAI6F,GAFzFG,SAAS,GAAT,2FAEyF,GAFzF,uFAEyF,CAAA;cAC/G,CACc,CAAC,CAEA9D;;oBAAAA,KAAE,CACF;oBAAA+D,eAA4B,IAA5B,CAAoBJ,QAKpB,kBAJC,6LAAA,GAGE;wBAFU,SAAqE,EAArE,qEAAqE;wBACzE,KAAmB,EAAnB,mBAAmB,GAE7B,CACF,EAxBA,MAwBS;;;;;;;eAvBF3D,KAAE,CAAC;;;;;QAuBD,CAEZ,CAAC;QAAA8B,CAAA,CAAA,EAAA,GAAA7E,KAAA;QAAA6E,CAAA,CAAA,EAAA,GAAA3E,YAAA;QAAA2E,CAAA,CAAA,EAAA,GAAA5E,YAAA;QAAA4E,CAAA,CAAA,EAAA,GAAAK,EAAA;QAAAL,CAAA,CAAA,EAAA,GAAAM,EAAA;QAAAN,CAAA,CAAA,EAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,EAAA,GAAAQ,EAAA;QAAAR,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAJ,EAAA,GAAAL,CAAA,CAAA,EAAA;QAAAM,EAAA,GAAAN,CAAA,CAAA,EAAA;QAAAO,EAAA,GAAAP,CAAA,CAAA,EAAA;QAAAQ,EAAA,GAAAR,CAAA,CAAA,EAAA;QAAAS,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAkC,EAAA;IAAA,IAAAlC,CAAA,CAAA,GAAA,KAAAK,EAAA,IAAAL,CAAA,CAAA,GAAA,KAAAM,EAAA,IAAAN,CAAA,CAAA,GAAA,KAAAO,EAAA,EAAA;QAvCJ2B,EAAA,iBAAA,6LAAA,GAwCM;YAxCS,SAAwB,CAAxB,CAAA7B,EAAuB,CAAC,CACpC;;gBAAAC,EAEA,CAEA;gBAAAC,EAkCA,CACH,EAxCA,GAwCM;;;;;;;QAAAP,CAAA,CAAA,GAAA,GAAAK,EAAA;QAAAL,CAAA,CAAA,GAAA,GAAAM,EAAA;QAAAN,CAAA,CAAA,GAAA,GAAAO,EAAA;QAAAP,CAAA,CAAA,GAAA,GAAAkC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAlC,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAmC,EAAA;IAAA,IAAAnC,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QAGJgC,EAAA,iBAAA,6LAAA,GAGM;YAHS,SAAyB,EAAzB,yBAAyB;;8BACtC,6LAAA,GAAmD;oBAApC,SAAiC,EAAjC,iCAAiC;;;;;;8BAChD,6LAAA,IAAiB;8BAAX,IAAI,EAAV,IAAiB,CACnB,EAHA,GAGM;;;;;;;;;;;;QAAAnC,CAAA,CAAA,GAAA,GAAAmC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAnC,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAoC,EAAA;IAAA,IAAApC,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACNiC,EAAA,iBAAA,6LAAA,GAGM;YAHS,SAAyB,EAAzB,yBAAyB;;8BACtC,6LAAA,GAA2E;oBAA5D,SAAyD,EAAzD,yDAAyD;;;;;;8BACxE,6LAAA,IAAiB;8BAAX,IAAI,EAAV,IAAiB,CACnB,EAHA,GAGM;;;;;;;;;;;;QAAApC,CAAA,CAAA,GAAA,GAAAoC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAApC,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAqC,EAAA;IAAA,IAAArC,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QARRkC,EAAA,iBAAA,6LAAA,GAaM;YAbS,SAAuI,EAAvI,uIAAuI,CACpJ;;gBAAAF,EAGK,CACL;gBAAAC,EAGK;8BACL,6LAAA,GAGM;oBAHS,SAAyB,EAAzB,yBAAyB;;sCACtC,6LAAA,GAA0D;4BAA3C,SAAwC,EAAxC,wCAAwC;;;;;;sCACvD,6LAAA,IAAmB;sCAAb,MAAM,EAAZ,IAAmB,CACrB,EAHA,GAGM,CACR,EAbA,GAaM;;;;;;;;;;;;;;;;;;QAAApC,CAAA,CAAA,GAAA,GAAAqC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAArC,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAsC,GAAA;IAAA,IAAAtC,CAAA,CAAA,GAAA,KAAAQ,EAAA,IAAAR,CAAA,CAAA,GAAA,KAAAS,EAAA,IAAAT,CAAA,CAAA,GAAA,KAAAkC,EAAA,EAAA;QArERI,GAAA,iBAAA,6LAAA,GAsEM;YAtES,SAA2D,CAA3D,CAAA9B,EAA0D,CAAC,CACxE;;gBAAAC,EAWK,CAEL;gBAAAyB,EAwCK,CAEL;gBAAAG,EAaK,CACP,EAtEA,GAsEM;;;;;;;QAAArC,CAAA,CAAA,GAAA,GAAAQ,EAAA;QAAAR,CAAA,CAAA,GAAA,GAAAS,EAAA;QAAAT,CAAA,CAAA,GAAA,GAAAkC,EAAA;QAAAlC,CAAA,CAAA,GAAA,GAAAsC,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAtC,CAAA,CAAA,GAAA;IAAA;IAAA,OAtENsC,GAsEM;AAAA,CAET;;KArHKxC,SAAS;AAuHf,sBAAsByC,CAAC,EACrB/G,IAAI,EACJC,QAAQ,EACRC,gBAAgB,EAChBC,aAAAA,EACmB,KAAK;;IACxB,MAAM,CAAC6G,WAAW,EAAEC,cAAc,CAAC,OAAG/J,yKAAQ,EAAC,KAAK,CAAC;IACrD,MAAM,CAACgK,YAAY,EAAEC,eAAe,CAAC,GAAGjK,6KAAQ,EAAC,IAAIuC,IAAI,CAAC,CAAC,CAAC;IAE5D,MAAMiC,OAAO,GAAGb,gBAAgB,CAACb,IAAI,CAACR,QAAQ,EAAE0H,YAAY,CAAC;IAE7D,MAAMpG,IAAI,GAAGoG,YAAY,CAACnG,WAAW,CAAC,CAAC;IACvC,MAAMC,UAAU,GAAGkG,YAAY,CAACjG,QAAQ,CAAC,CAAC;IAC1C,MAAMuE,UAAU,GAAGxD,aAAa,CAAClB,IAAI,CAAC;IAEtC,MAAMsG,aAAa,EAAEC,CAA+B,CAAC,CAAC,GAA3B,CAAC,MAAM,EAAEjH,YAAY,CAAC;IAEjDsB,OAAO,CAACsB,OAAO,EAAEsE,MAAM,IAAK;QAC1B,MAAMC,OAAO,GAAGpD,MAAM,CAACmD,MAAM,CAACvI,IAAI,CAACT,QAAQ,CAAC;QAE5C,IAAI,CAAC8I,aAAa,CAACG,OAAO,CAAC,EAAE;YAC3BH,aAAa,CAACG,OAAO,CAAC,GAAG;gBACvBxI,IAAI,EAAEuI,MAAM,CAACvI,IAAI;gBACjBsB,KAAK,EAAE;oBACLC,QAAQ,EAAE,EAAE;oBACZC,SAAS,EAAE,EAAE;oBACb,2BAA2B,EAAE,EAAA;gBAC/B;YACF,CAAC;QACH;QAEA,IAAK,IAAIiB,CAAC,GAAG8F,MAAM,CAAC1I,KAAK,EAAE4C,CAAC,IAAI8F,MAAM,CAACzI,GAAG,EAAE2C,CAAC,EAAE,CAAE;YAC/C,MAAMyB,IAAI,GAAG,IAAIxD,IAAI,CAACqB,IAAI,EAAEE,UAAU,EAAEQ,CAAC,CAAC;YAC1C,MAAMgG,KAAK,GAAGhC,UAAU,CAACE,IAAI,EAC1B+B,CAAC,GAAKA,CAAC,CAACrG,OAAO,CAAC,CAAC,KAAKI,CAAC,IAAIiG,CAAC,CAACxG,QAAQ,CAAC,CAAC,KAAKD,UAAU,IAAIyG,CAAC,CAAC1G,WAAW,CAAC,CAAC,KAAKD,IACjF,CAAC;YAED,IAAI0G,KAAK,IAAIvE,IAAI,CAACC,MAAM,CAAC,CAAC,KAAK,CAAC,EAAE;gBAChCkE,aAAa,CAACG,OAAO,CAAC,CAAClH,KAAK,CAAC,2BAA2B,CAAC,CAACyB,IAAI,CAACN,CAAC,CAAC;YACnE,CAAC,MAAM,IAAIyB,IAAI,CAACC,MAAM,CAAC,CAAC,KAAK,CAAC,EAAE;gBAC9BkE,aAAa,CAACG,OAAO,CAAC,CAAClH,KAAK,CAACE,SAAS,CAACuB,IAAI,CAACN,CAAC,CAAC;YAChD,CAAC,MAAM;gBACL4F,aAAa,CAACG,OAAO,CAAC,CAAClH,KAAK,CAACC,QAAQ,CAACwB,IAAI,CAACN,CAAC,CAAC;YAC/C;QACF;IACF,CAAC,CAAC;IAEF,IAAIkG,SAAS,GAAG,CAAC;IACjBC,MAAM,CAACC,MAAM,CAACR,aAAa,CAAC,CAACpE,OAAO,EAAE6E,KAAK,IAAK;QAC7CF,MAAM,CAACG,IAAI,CAACD,KAAK,CAACxH,KAAK,CAAC,CAAwC2C,GAApCqC,IAA2C,CAAtC,AAAwC0C,CAAvC,GAA2C,GAArC3H,CAA0C,WAA9B,CAAC,OAAO,CAAC,CAAC;YAC7D,MAAMN,IAAI,GAAG+H,KAAK,CAACxH,KAAK,CAAC0H,IAAI,CAAC;YAC9B,IAAI1D,IAAI,GAAG,CAAC;YACZ,IAAI0D,IAAI,KAAK,UAAU,EAAE1D,IAAI,GAAGrE,IAAI,CAACT,KAAK,CAACN,OAAO,CAAC;iBAC9C,IAAI8I,IAAI,KAAK,WAAW,EAAE1D,IAAI,GAAGrE,IAAI,CAACT,KAAK,CAACL,QAAQ,CAAC;iBACrDmF,IAAI,GAAGrE,IAAI,CAACT,KAAK,CAACJ,MAAM;YAE7B,MAAM6I,QAAQ,GAAGlI,IAAI,CAAChB,MAAM,GAAGuF,IAAI;YACnC,MAAM/F,QAAQ,GAAG0J,QAAQ,GAAA,CAAIH,KAAK,CAAC9I,IAAI,CAACT,QAAQ,GAAG,GAAG,CAAC;YACvDoJ,SAAS,IAAIM,QAAQ,GAAG1J,QAAQ;QAClC,CAAC,CAAC;IACJ,CAAC,CAAC;IAEF,MAAM2J,kBAAkB,GAAGA,CAACC,CAAC,EAAuCG,AAArCpL,KAAK,CAACkL,EAAuC,EAAE,MAA/B,AAAqC,CAApCC,IAAyC,aAAxB,CAAC;QAChEF,CAAC,CAACI,eAAe,CAAC,CAAC;QACnB,MAAMnD,WAAW,GAAG,IAAI1F,IAAI,CAACqB,IAAI,EAAEE,UAAU,GAAG,CAAC,EAAE,CAAC,CAAC,CAACI,OAAO,CAAC,CAAC;QAC/D,MAAMmH,cAAc,GAAG,IAAIjH,GAAG,CAACtB,IAAI,CAACR,QAAQ,CAACiC,GAAG,EAAED,GAAC,GAAKA,GAAC,CAACgH,OAAO,CAAC,CAAC,CAAC,CAAC;QAErE,IAAIC,aAAa,GAAG,KAAK;QACzB,IAAK,IAAIjH,GAAC,GAAG,CAAC,EAAEA,GAAC,IAAI2D,WAAW,EAAE3D,GAAC,EAAE,CAAE;YACrC,MAAMyB,MAAI,GAAG,IAAIxD,IAAI,CAACqB,IAAI,EAAEE,UAAU,EAAEQ,GAAC,CAAC;YAC1C,IAAIyB,MAAI,CAACC,MAAM,CAAC,CAAC,KAAKmF,QAAQ,IAAI,CAACE,cAAc,CAAC1G,GAAG,CAACoB,MAAI,CAACuF,OAAO,CAAC,CAAC,CAAC,EAAE;gBACrEC,aAAa,GAAG,IAAI;gBACpB;YACF;QACF;QAEA,IAAIC,WAAW,GAAG,CAAC;eAAG1I,IAAI,CAACR,QAAQ;SAAC;QACpC,IAAIiJ,aAAa,EAAE;YACjB,IAAK,IAAIjH,GAAC,GAAG,CAAC,EAAEA,GAAC,IAAI2D,WAAW,EAAE3D,GAAC,EAAE,CAAE;gBACrC,MAAMyB,MAAI,GAAG,IAAIxD,IAAI,CAACqB,IAAI,EAAEE,UAAU,EAAEQ,GAAC,CAAC;gBAC1C,IAAIyB,MAAI,CAACC,MAAM,CAAC,CAAC,KAAKmF,QAAQ,IAAI,CAACE,cAAc,CAAC1G,GAAG,CAACoB,MAAI,CAACuF,OAAO,CAAC,CAAC,CAAC,EAAE;oBACrEE,WAAW,CAAC5G,IAAI,CAACmB,MAAI,CAAC;gBACxB;YACF;QACF,CAAC,MAAM;YACLyF,WAAW,GAAGA,WAAW,CAACnH,MAAM,EAC7BC,GAAC,GAAKA,GAAC,CAACP,QAAQ,CAAC,CAAC,KAAKD,UAAU,IAAIQ,GAAC,CAACT,WAAW,CAAC,CAAC,KAAKD,IAAI,IAAIU,GAAC,CAAC0B,MAAM,CAAC,CAAC,KAAKmF,QACnF,CAAC;QACH;QACAnI,gBAAgB,CAACwI,WAAW,CAAC;IAC/B,CAAC;IAED,MAAMC,gBAAgB,GAAGA,CAACT,GAAC,EAAEjL,KAAK,CAACkL,UAAU,CAACC,iBAAiB,CAAC,KAAK;QACnEF,GAAC,CAACI,eAAe,CAAC,CAAC;QACnB,MAAMvF,QAAQ,GAAGyC,UAAU,CAACjE,MAAM,EAAEC,GAAC,GAAKA,GAAC,CAACP,QAAQ,CAAC,CAAC,KAAKD,UAAU,CAAC;QACtE,IAAI+B,QAAQ,CAACjE,MAAM,KAAK,CAAC,EAAE;QAE3B,MAAMyJ,gBAAc,GAAG,IAAIjH,GAAG,CAACtB,IAAI,CAACR,QAAQ,CAACiC,GAAG,EAAED,GAAC,GAAKA,GAAC,CAACgH,OAAO,CAAC,CAAC,CAAC,CAAC;QACrE,MAAMC,eAAa,GAAG1F,QAAQ,CAAC2C,IAAI,CAAE+B,GAAC,IAAK,CAACc,gBAAc,CAAC1G,GAAG,CAAC4F,GAAC,CAACe,OAAO,CAAC,CAAC,CAAC,CAAC;QAE5E,IAAIE,aAAW,GAAG,CAAC;eAAG1I,IAAI,CAACR,QAAQ;SAAC;QACpC,IAAIiJ,eAAa,EAAE;YACjB1F,QAAQ,CAACC,OAAO,EAAEyE,GAAC,IAAK;gBACtB,IAAI,CAACc,gBAAc,CAAC1G,GAAG,CAAC4F,GAAC,CAACe,OAAO,CAAC,CAAC,CAAC,EAAEE,aAAW,CAAC5G,IAAI,CAAC2F,GAAC,CAAC;YAC3D,CAAC,CAAC;QACJ,CAAC,MAAM;YACL,MAAMmB,aAAa,GAAG,IAAItH,GAAG,CAACyB,QAAQ,CAACtB,GAAG,EAAEgG,GAAC,GAAKA,GAAC,CAACe,OAAO,CAAC,CAAC,CAAC,CAAC;YAC/DE,aAAW,GAAGA,aAAW,CAACnH,MAAM,EAAEC,GAAC,GAAK,CAACoH,aAAa,CAAC/G,GAAG,CAACL,GAAC,CAACgH,OAAO,CAAC,CAAC,CAAC,CAAC;QAC1E;QACAtI,gBAAgB,CAACwI,aAAW,CAAC;IAC/B,CAAC;IAED,MAAMG,gBAAgB,GAAGA,CAACd,MAAI,EAAE,AAAae,KAAK,CAAZ9J,CAAc,IAAT,EAAe,KAAK;QAC7DmB,aAAa,CAAC;YACZ,GAAGH,IAAI,CAACT,KAAK;YACb,CAACwI,MAAI,CAAA,EAAG9D,MAAM,CAACC,UAAU,CAAC4E,KAAK,CAAC,IAAI;QACtC,CAAC,CAAC;IACJ,CAAC;IAED,MAAMC,mBAAmB,GAAGA,CAAA,KAAM;QAChC5I,aAAa,CAAC2D,cAAc,CAAC9D,IAAI,CAACT,KAAK,CAACN,OAAO,CAAC,CAAC;IACnD,CAAC;IAED,MAAM+J,eAAe,GAAGA,CAAA,KAAM;QAC5B,MAAMrF,IAAI,GAAG,IAAIlE,IAAI,CAACyH,YAAY,CAAC;QACnCvD,IAAI,CAACsF,QAAQ,CAACtF,IAAI,CAAC1C,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;QAClCkG,eAAe,CAACxD,IAAI,CAAC;IACvB,CAAC;IAED,MAAMuF,eAAe,GAAGA,CAAA,KAAM;QAC5B,MAAMC,IAAI,GAAG,IAAI1J,IAAI,CAACyH,YAAY,CAAC;QACnCiC,IAAI,CAACF,QAAQ,CAACE,IAAI,CAAClI,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;QAClCkG,eAAe,CAACgC,IAAI,CAAC;IACvB,CAAC;IAED,MAAMC,UAAU,GAAGlC,YAAY,CAACmC,kBAAkB,CAAC,OAAO,EAAE;QAC1D1J,KAAK,EAAE,MAAM;QACbmB,IAAI,EAAE;IACR,CAAC,CAAC;IAEF,qBACE,6LAAC,GAAG;QAAC,SAAS,EAAC,+GAA+G;;0BAC5H,6LAAC,GAAG;gBACF,SAAS,EAAC,6IAA6I;gBACvJ,OAAO,CAAC,CAAC,IAAMmG,cAAc,CAAC,CAACD,WAAW,CAAC,CAAC;;kCAE5C,6LAAC,GAAG;wBAAC,SAAS,EAAC,yBAAyB;;0CACtC,6LAAC,GAAG;gCAAC,SAAS,EAAC,gIAAgI;wDAC7I,6LAAC,+NAAU;oCAAC,SAAS,EAAC,SAAS;;;;;;;;;;;0CAEjC,6LAAC,GAAG;;kDACF,6LAAC,EAAE;wCAAC,SAAS,EAAC,oCAAoC,CAAC;kDAAChH,IAAI,CAACV,IAAI,CAAC,EAAE,EAAE;;;;;;kDAClE,6LAAC,CAAC;wCAAC,SAAS,EAAC,oCAAoC;;4CAC9CmB,cAAc,CAACT,IAAI,CAACT,KAAK,CAACN,OAAO,CAAC;4CAAC;;;;;;;;;;;;;;;;;;;kCAI1C,6LAAC,GAAG;wBAAC,SAAS,EAAC,yBAAyB;;0CACtC,6LAAC,GAAG;gCAAC,SAAS,EAAC,iCAAiC;;kDAC9C,6LAAC,GAAG;wCAAC,SAAS,EAAC,iEAAiE;kDAAA;;;;;;kDAGhF,6LAAC,GAAG;wCAAC,SAAS,EAAC,sCAAsC,CAAC;kDAACwB,cAAc,CAACiH,SAAS,CAAC,CAAC,EAAE,GAAG;;;;;;;;;;;;0CAExF,6LAAC,GAAG;gCAAC,SAAS,EAAC,uCAAuC;;;;;;0CACtD,6LAAC,MAAM;gCACL,OAAO,CAAC,EAAEQ,GAAC,IAAK;oCACdA,GAAC,CAACI,eAAe,CAAC,CAAC;oCACnBrI,QAAQ,CAAC,CAAC;gCACZ,CAAC,CAAC;gCACF,SAAS,EAAC,oFAAoF;gCAC9F,KAAK,EAAC,aAAa;wDAEnB,6LAAC,uNAAM;oCAAC,SAAS,EAAC,SAAS;;;;;;;;;;;4BAE5B+G,WAAW,iBACV,6LAAC,sOAAW;gCAAC,SAAS,EAAC,wBAAwB,GAAG;;;;;yFAElD,6LAAC,gOAAS;gCAAC,SAAS,EAAC,wBAAwB,GAC9C;;;;;;;;;;;;;;;;;;YAIJ,CAACA,WAAW,kBACX,6LAAC,GAAG;gBAAC,SAAS,EAAC,qFAAqF;;kCAClG,6LAAC,GAAG;wBAAC,SAAS,EAAC,WAAW;;0CACxB,6LAAC,GAAG;gCAAC,SAAS,EAAC,sFAAsF;;kDACnG,6LAAC,MAAM;wCACL,OAAO,CAAC,CAACgC,eAAe,CAAC;wCACzB,SAAS,EAAC,0EAA0E;gEAEpF,6LAAC,sOAAW;4CAAC,SAAS,EAAC,SAAS;;;;;;;;;;;kDAElC,6LAAC,IAAI;wCAAC,SAAS,EAAC,kCAAkC,CAAC;kDAACI,UAAU,CAAC,EAAE,IAAI;;;;;;kDACrE,6LAAC,MAAM;wCACL,OAAO,CAAC,CAACF,eAAe,CAAC;wCACzB,SAAS,EAAC,0EAA0E;gEAEpF,6LAAC,yOAAY;4CAAC,SAAS,EAAC,SAAS;;;;;;;;;;;;;;;;;0CAIrC,6LAAC,GAAG;;kDACF,6LAAC,GAAG;wCAAC,SAAS,EAAC,wCAAwC;kDACrD,2MAAC,EAAE;4CAAC,SAAS,EAAC,kFAAkF;;8DAC9F,6LAAC,sOAAW;oDAAC,SAAS,EAAC,4BAA4B;;;;;;gDAAA;;;;;;;;;;;;kDAIvD,6LAAC,GAAG;wCAAC,SAAS,EAAC,mBAAmB;;0DAChC,6LAAC,MAAM;gDACL,IAAI,EAAC,QAAQ;gDACb,OAAO,CAAC,EAAEhB,GAAC,GAAKD,kBAAkB,CAACC,GAAC,EAAE,CAAC,CAAC,CAAC;gDACzC,SAAS,EAAC,+JAA+J;gDACzK,KAAK,EAAC,kBAAkB;;kEAExB,6LAAC,6MAAI;wDAAC,SAAS,EAAC,SAAS;;;;;;oDAAA;;;;;;;0DAG3B,6LAAC,MAAM;gDACL,IAAI,EAAC,QAAQ;gDACb,OAAO,CAAC,EAAEA,GAAC,GAAKD,kBAAkB,CAACC,GAAC,EAAE,CAAC,CAAC,CAAC;gDACzC,SAAS,EAAC,+JAA+J;gDACzK,KAAK,EAAC,gBAAgB;;kEAEtB,6LAAC,0MAAG;wDAAC,SAAS,EAAC,SAAS;;;;;;oDAAA;;;;;;;0DAG1B,6LAAC,MAAM;gDACL,OAAO,CAAC,CAACS,gBAAgB,CAAC;gDAC1B,SAAS,EAAC,iKAAiK;gDAC3K,KAAK,EAAC,2BAA2B;;kEAEjC,6LAAC,6NAAQ;wDAAC,SAAS,EAAC,SAAS;;;;;;oDAAA;;;;;;;;;;;;;kDAIjC,6LAAC,SAAS;wCAAC,KAAK,CAAC,CAACzB,YAAY,CAAC;wCAAC,YAAY,CAAC,CAAClH,IAAI,CAACR,QAAQ,CAAC;wCAAC,YAAY,CAAC,CAACU,gBAAgB,CAAC;;;;;;;;;;;;0CAG9F,6LAAC,GAAG;gCAAC,SAAS,EAAC,6DAA6D;;kDAC1E,6LAAC,GAAG;wCAAC,SAAS,EAAC,wCAAwC;;0DACrD,6LAAC,EAAE;gDAAC,SAAS,EAAC,kFAAkF;;kEAC9F,6LAAC,gNAAK;wDAAC,SAAS,EAAC,8BAA8B;;;;;;oDAAA;;;;;;;0DAGjD,6LAAC,MAAM;gDACL,OAAO,CAAC,CAAC6I,mBAAmB,CAAC;gDAC7B,KAAK,EAAC,kBAAkB;gDACxB,SAAS,EAAC,yDAAyD;wEAEnE,6LAAC,gOAAS;oDAAC,SAAS,EAAC,aAAa;;;;;;;;;;;;;;;;;kDAItC,6LAAC,GAAG;wCAAC,SAAS,EAAC,WAAW;;0DACxB,6LAAC,GAAG;gDAAC,SAAS,EAAC,mCAAmC;;kEAChD,6LAAC,KAAK;wDAAC,SAAS,EAAC,wCAAwC;kEAAC,OAAO,EAAE,KAAK;;;;;;kEACxE,6LAAC,GAAG;wDAAC,SAAS,EAAC,6HAA6H;;0EAC1I,6LAAC,IAAI;gEAAC,SAAS,EAAC,iCAAiC;0EAAC,CAAC,EAAE,IAAI;;;;;;0EACzD,6LAAC,KAAK;gEACJ,IAAI,EAAC,QAAQ;gEACb,GAAG,EAAC,GAAG;gEACP,IAAI,EAAC,MAAM;gEACX,WAAW,EAAC,MAAM;gEAClB,SAAS,EAAC,mEAAmE;gEAC7E,KAAK,CAAC,CAAC/I,IAAI,CAACT,KAAK,CAACN,OAAO,CAAC;gEAC1B,QAAQ,CAAC,EAAEiJ,GAAC,GAAKW,gBAAgB,CAAC,SAAS,EAAEX,GAAC,CAACoB,MAAM,CAACR,KAAK,CAAC,CAAC;;;;;;;;;;;;;;;;;;0DAInE,6LAAC,GAAG;gDAAC,SAAS,EAAC,mCAAmC;;kEAChD,6LAAC,KAAK;wDAAC,SAAS,EAAC,wCAAwC;;4DAAA;0EAEvD,6LAAC,IAAI;gEAAC,SAAS,EAAC,6CAA6C;0EAAA;;;;;;;;;;;;kEAI/D,6LAAC,GAAG;wDAAC,SAAS,EAAC,6HAA6H;;0EAC1I,6LAAC,IAAI;gEAAC,SAAS,EAAC,iCAAiC;0EAAC,CAAC,EAAE,IAAI;;;;;;0EACzD,6LAAC,KAAK;gEACJ,IAAI,EAAC,QAAQ;gEACb,GAAG,EAAC,GAAG;gEACP,IAAI,EAAC,MAAM;gEACX,WAAW,EAAC,MAAM;gEAClB,SAAS,EAAC,mEAAmE;gEAC7E,KAAK,CAAC,CAAC9I,IAAI,CAACT,KAAK,CAACL,QAAQ,CAAC;gEAC3B,QAAQ,CAAC,EAAEgJ,GAAC,GAAKW,gBAAgB,CAAC,UAAU,EAAEX,GAAC,CAACoB,MAAM,CAACR,KAAK,CAAC,CAAC;;;;;;;;;;;;;;;;;;0DAIpE,6LAAC,GAAG;gDAAC,SAAS,EAAC,mCAAmC;;kEAChD,6LAAC,KAAK;wDAAC,SAAS,EAAC,wCAAwC;;4DAAA;0EAEvD,6LAAC,IAAI;gEAAC,SAAS,EAAC,6CAA6C;0EAAA;;;;;;;;;;;;kEAI/D,6LAAC,GAAG;wDAAC,SAAS,EAAC,6HAA6H;;0EAC1I,6LAAC,IAAI;gEAAC,SAAS,EAAC,iCAAiC;0EAAC,CAAC,EAAE,IAAI;;;;;;0EACzD,6LAAC,KAAK;gEACJ,IAAI,EAAC,QAAQ;gEACb,GAAG,EAAC,GAAG;gEACP,IAAI,EAAC,MAAM;gEACX,WAAW,EAAC,MAAM;gEAClB,SAAS,EAAC,mEAAmE;gEAC7E,KAAK,CAAC,CAAC9I,IAAI,CAACT,KAAK,CAACJ,MAAM,CAAC;gEACzB,QAAQ,CAAC,EAAE+I,GAAC,GAAKW,gBAAgB,CAAC,QAAQ,EAAEX,GAAC,CAACoB,MAAM,CAACR,KAAK,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAQxE,6LAAC,GAAG;wBAAC,SAAS,EAAC,sBAAsB;;0CACnC,6LAAC,EAAE;gCAAC,SAAS,EAAC,uFAAuF;;kDACnG,6LAAC,sNAAO;wCAAC,SAAS,EAAC,8BAA8B;;;;;;oCAAA;;;;;;;0CAInD,6LAAC,GAAG;gCAAC,SAAS,EAAC,qFAAqF;;kDAClG,6LAAC,GAAG;wCAAC,SAAS,EAAC,iIAAiI;;0DAC9I,6LAAC,GAAG;gDAAC,SAAS,EAAC,YAAY;0DAAC,WAAW,EAAE,GAAG;;;;;;0DAC5C,6LAAC,GAAG;gDAAC,SAAS,EAAC,uBAAuB;0DAAC,IAAI,EAAE,GAAG;;;;;;0DAChD,6LAAC,GAAG;gDAAC,SAAS,EAAC,uBAAuB;0DAAC,KAAK,EAAE,GAAG;;;;;;0DACjD,6LAAC,GAAG;gDAAC,SAAS,EAAC,uBAAuB;0DAAC,KAAK,EAAE,GAAG;;;;;;;;;;;;kDAGnD,6LAAC,GAAG;wCAAC,SAAS,EAAC,+BAA+B;kDAC3CnB,MAAM,CAACG,IAAI,CAACV,aAAa,CAAC,CAACtI,MAAM,KAAK,CAAC,iBACtC,6LAAC,GAAG;4CAAC,SAAS,EAAC,gDAAgD;sDAAA;;;;;uFAI/D6I,MAAM,CAACG,IAAI,CAACV,aAAa,CAAC,CACvB7D,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,GAAKQ,MAAM,CAACT,CAAC,CAAC,GAAGS,MAAM,CAACR,CAAC,CAAC,CAAC,CACrChC,GAAG,EAAE8F,SAAO,IAAK;4CAChB,MAAMM,OAAK,GAAGT,aAAa,CAACG,SAAO,CAAC;4CACpC,MAAMgC,SAAS,EAAElE,CAAqC,IAAhC,CAAC,MAAMjF,YAAY,CAAC,OAAO,CAAC,CAAC;gDACjD,UAAU;gDACV,WAAW;gDACX,2BAA2B;6CAC5B;4CAED,qBACE,6LAAC,GAAG,CAAC,GAAG,CAAC;gDAAU,SAAS,EAAC,yCAAyC;0DACnEmJ,SAAS,CAAC9H,GAAG,EAAEsG,MAAI,IAAK;oDACvB,MAAMjI,MAAI,GAAG+H,OAAK,CAACxH,KAAK,CAAC0H,MAAI,CAAC;oDAC9B,IAAIjI,MAAI,CAAChB,MAAM,KAAK,CAAC,EAAE,OAAO,IAAI;oDAElC,IAAIuF,MAAI,GAAG,CAAC;oDACZ,IAAI0D,MAAI,KAAK,UAAU,EAAE1D,MAAI,GAAGrE,IAAI,CAACT,KAAK,CAACN,OAAO,CAAC;yDAC9C,IAAI8I,MAAI,KAAK,WAAW,EAAE1D,MAAI,GAAGrE,IAAI,CAACT,KAAK,CAACL,QAAQ,CAAC;yDACrDmF,MAAI,GAAGrE,IAAI,CAACT,KAAK,CAACJ,MAAM;oDAE7B,MAAM6I,UAAQ,GAAGlI,MAAI,CAAChB,MAAM,GAAGuF,MAAI;oDACnC,MAAMmF,KAAK,GAAGxB,UAAQ,GAAA,CAAI,CAAC,GAAGH,OAAK,CAAC9I,IAAI,CAACT,QAAQ,GAAG,GAAG,CAAC;oDACxD,MAAMmL,QAAQ,GAAGpG,eAAe,CAACvD,MAAI,CAAC;oDAEtC,qBACE,6LAAC,GAAG,CACF,GAAG,CAAC;wDACJ,SAAS,EAAC,4EAA4E;;0EAEtF,6LAAC,GAAG;gEAAC,SAAS,EAAC,uCAAuC;wFACpD,6LAAC,GAAG;oEAAC,SAAS,EAAC,eAAe;;sFAC5B,6LAAC,IAAI;4EAAC,SAAS,EAAC,0BAA0B,CAAC;sFAACiI,MAAI,CAAC,EAAE,IAAI;;;;;;sFACvD,6LAAC,IAAI;4EAAC,SAAS,EAAC,+CAA+C;sFAC5D0B,QAAQ;;;;;;;;;;;;;;;;;0EAIf,6LAAC,GAAG;gEAAC,SAAS,EAAC,uDAAuD;0EACpE,2MAAC,GAAG;oEAAC,SAAS,EAAC,yBAAyB;;sFACtC,6LAAC,IAAI,CAAC;sFAAC3J,MAAI,CAAChB,MAAM,CAAC,EAAE,IAAI;;;;;;sFACzB,6LAAC,IAAI;4EAAC,SAAS,EAAC,2BAA2B;;gFAAA;gFACtC2B,cAAc,CAAC4D,MAAI,CAAC;;;;;;;;;;;;;;;;;;0EAI7B,6LAAC,GAAG;gEACF,SAAS,CAAC,CAAC,CAAA,qCAAA,EACTwD,OAAK,CAAC9I,IAAI,CAACT,QAAQ,GAAG,CAAC,GAAG,kBAAkB,GAAG,gBAAgB,EAC/D,CAAC;;oEAEFuJ,OAAK,CAAC9I,IAAI,CAACT,QAAQ;oEAAC;;;;;;;0EAEvB,6LAAC,GAAG;gEAAC,SAAS,EAAC,qDAAqD;0EACjEmC,cAAc,CAAC+I,KAAK,CAAC;;;;;;;uDA3BnBzB,MAAI,CAAC;;;;;gDA+BhB,CAAC,CAAC;+CA/CMR,SAAO,CAAC;;;;;wCAkDtB,CAAC,CACJ;;;;;;kDAGH,6LAAC,GAAG;wCAAC,SAAS,EAAC,mDAAmD;gEAChE,6LAAC,GAAG;4CAAC,SAAS,EAAC,mCAAmC;;8DAChD,6LAAC,IAAI;oDAAC,SAAS,EAAC,oCAAoC;8DAAC,YAAY,EAAE,IAAI;;;;;;8DACvE,6LAAC,IAAI;oDAAC,SAAS,EAAC,oCAAoC,CAAC;8DAAC9G,cAAc,CAACiH,SAAS,CAAC,CAAC,EAAE,IAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASxG,CAAC;;MA5ZKX,aAAa;AA8ZnB,4BAA4B2C,CAAA,KAAM;;IAChC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,OAAG1M,yKAAQ,CAACkC,CAAiB,YAAJ,EAAE,CAAC;QACzD;YACEC,EAAE,EAAE,GAAG;YACPC,IAAI,EAAE,eAAe;YACrBC,KAAK,EAAEuE,cAAc,CAAC,IAAI,CAAC;YAC3BtE,QAAQ,EAAE,EAAA;QACZ,CAAC;KACF,CAAC;IACF,MAAM,CAACqK,gBAAgB,EAAEC,mBAAmB,CAAC,OAAG5M,yKAAQ,EAAC,EAAE,CAAC;IAC5D,MAAM,CAAC6M,YAAY,EAAEC,eAAe,CAAC,OAAG9M,yKAAQ,EAAC,EAAE,CAAC;IAEpD,MAAM+M,YAAY,GAAGA,CAAC/B,CAAoC,CAAlC,EAAEjL,KAAK,CAACiN,SAAS,CAACC,eAAe,CAAC,KAAK;QAC7DjC,CAAC,EAAEkC,cAAc,CAAC,CAAC;QACnB,IAAI,CAACP,gBAAgB,IAAI,CAACE,YAAY,EAAE;QAExC,MAAMhG,QAAQ,GAAGE,MAAM,CAACC,UAAU,CAAC6F,YAAY,CAAC;QAChD,MAAMM,OAAO,EAAEjL,CAAgB,YAAH;YAC1BC,EAAE,EAAEI,IAAI,CAAC6K,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;YACzBjL,IAAI,EAAEuK,gBAAgB;YACtBtK,KAAK,EAAEuE,cAAc,CAACC,QAAQ,CAAC;YAC/BvE,QAAQ,EAAE,EAAA;QACZ,CAAC;QAEDoK,YAAY,CAAC,CAAC;eAAGD,SAAS;YAAEU,OAAO;SAAC,CAAC;QACrCP,mBAAmB,CAAC,EAAE,CAAC;QACvBE,eAAe,CAAC,EAAE,CAAC;IACrB,CAAC;IAED,MAAMQ,eAAe,GAAGA,CAACnL,EAAE,EAAE,MAAM,KAAK;QACtCuK,YAAY,CAACD,SAAS,CAACpI,MAAM,EAAEvB,IAAI,GAAKA,IAAI,CAACX,EAAE,KAAKA,EAAE,CAAC,CAAC;IAC1D,CAAC;IAED,MAAMoL,cAAc,GAAGA,CAACpL,IAAE,EAAE,AAAQS,IAAI,EAAN,AAAQL,IAAI,EAAE,KAAK;QACnDmK,YAAY,CAACD,SAAS,CAAClI,GAAG,CAAEzB,MAAI,IAAMA,MAAI,CAACX,EAAE,KAAKA,IAAE,GAAG;gBAAE,GAAGW,MAAI;gBAAER,QAAQ,EAAEM;YAAK,CAAC,GAAGE,MAAK,CAAC,CAAC;IAC9F,CAAC;IAED,MAAM0K,WAAW,GAAGA,CAACrL,IAAE,EAAE,AAAQsL,MAAF,EAAU,EAAE3L,KAAK,KAAK;QACnD4K,YAAY,CAACD,SAAS,CAAClI,GAAG,EAAEzB,MAAI,GAAMA,MAAI,CAACX,EAAE,KAAKA,IAAE,GAAG;gBAAE,GAAGW,MAAI;gBAAET,KAAK,EAAEoL;YAAS,CAAC,GAAG3K,MAAK,CAAC,CAAC;IAC/F,CAAC;IAED,MAAM4K,UAAU,GAAGA,CAACC,MAAM,EAAE;QAC1Bf,mBAAmB,CAACe,MAAM,CAACvL,IAAI,CAAC;QAChC0K,eAAe,CAAC7F,MAAM,CAAC0G,MAAM,CAACxG,IAAI,CAAC,CAAC;IACtC,CAAC;IAED,MAAMyG,UAAU,GAAGnB,SAAS,CAACoB,MAAM,CAAC,CAACC,GAAG,EAAEhL,MAAI,KAAK;QACjD,MAAMkH,YAAY,GAAG,IAAIzH,IAAI,CAAC,CAAC;QAC/B,MAAMiC,OAAO,GAAGb,gBAAgB,CAACb,MAAI,CAACR,QAAQ,EAAE0H,YAAY,CAAC;QAC7D,MAAMpG,IAAI,GAAGoG,YAAY,CAACnG,WAAW,CAAC,CAAC;QACvC,MAAMC,UAAU,GAAGkG,YAAY,CAACjG,QAAQ,CAAC,CAAC;QAC1C,MAAMuE,UAAU,GAAGxD,aAAa,CAAClB,IAAI,CAAC;QAEtC,IAAImK,SAAS,GAAG,CAAC;QACjBvJ,OAAO,CAACsB,OAAO,CAAEsE,MAAM,IAAK;YAC1B,IAAK,IAAI9F,CAAC,GAAG8F,MAAM,CAAC1I,KAAK,EAAE4C,CAAC,IAAI8F,MAAM,CAACzI,GAAG,EAAE2C,CAAC,EAAE,CAAE;gBAC/C,MAAMyB,IAAI,GAAG,IAAIxD,IAAI,CAACqB,IAAI,EAAEE,UAAU,EAAEQ,CAAC,CAAC;gBAC1C,MAAMgG,KAAK,GAAGhC,UAAU,CAACE,IAAI,EAC1B+B,CAAC,GAAKA,CAAC,CAACrG,OAAO,CAAC,CAAC,KAAKI,CAAC,IAAIiG,CAAC,CAACxG,QAAQ,CAAC,CAAC,KAAKD,UAAU,IAAIyG,CAAC,CAAC1G,WAAW,CAAC,CAAC,KAAKD,IACjF,CAAC;gBAED,IAAIoK,SAAS,GAAGlL,MAAI,CAACT,KAAK,CAACN,OAAO;gBAClC,IAAIuI,KAAK,IAAIvE,IAAI,CAACC,MAAM,CAAC,CAAC,KAAK,CAAC,EAAEgI,SAAS,GAAGlL,MAAI,CAACT,KAAK,CAACJ,MAAM,CAAC;qBAC3D,IAAI8D,IAAI,CAACC,MAAM,CAAC,CAAC,KAAK,CAAC,EAAEgI,SAAS,GAAGlL,MAAI,CAACT,KAAK,CAACL,QAAQ;gBAE7D+L,SAAS,IAAIC,SAAS,GAAA,CAAI,CAAC,GAAG5D,MAAM,CAACvI,IAAI,CAACT,QAAQ,GAAG,GAAG,CAAC;YAC3D;QACF,CAAC,CAAC;QAEF,OAAO0M,GAAG,GAAGC,SAAS;IACxB,CAAC,EAAE,CAAC,CAAC;IAEL,qBACE,6LAAC,GAAG;QAAC,SAAS,EAAC,4GAA4G;gCACzH,6LAAC,GAAG;YAAC,SAAS,EAAC,6BAA6B;;8BAC1C,6LAAC,GAAG;oBAAC,SAAS,EAAC,8DAA8D;4CAC3E,6LAAC,GAAG;;0CACF,6LAAC,EAAE;gCAAC,SAAS,EAAC,0GAA0G;0CAAA;;;;;;0CAGxH,6LAAC,CAAC;gCAAC,SAAS,EAAC,4BAA4B;0CAAA;;;;;;;;;;;;;;;;;8BAM7C,6LAAC,GAAG;oBAAC,SAAS,EAAC,2DAA2D;;sCACxE,6LAAC,GAAG;4BAAC,SAAS,EAAC,2BAA2B;;8CACxC,6LAAC,IAAI;oCAAC,SAAS,EAAC,qEAAqE;8CAAA;;;;;;gCAGpF7G,OAAO,CAAC3C,GAAG,CAAC,CAACoJ,QAAM,EAAEM,GAAG,iBACvB,6LAAC,MAAM,CACL,GAAG,CAAC;wCACJ,OAAO,CAAC,CAAC,IAAMP,UAAU,CAACC,QAAM,CAAC,CAAC;wCAClC,SAAS,EAAC,wIAAwI;kDAEjJA,QAAM,CAACvL,IAAI;uCAJP6L,GAAG,CAAC;;;;;;;;;;;sCASf,6LAAC,IAAI;4BAAC,QAAQ,CAAC,CAAClB,YAAY,CAAC;4BAAC,SAAS,EAAC,iCAAiC;;8CACvE,6LAAC,KAAK;oCACJ,EAAE,EAAC,gBAAgB;oCACnB,WAAW,EAAC,mCAAmC;oCAC/C,KAAK,CAAC,CAACJ,gBAAgB,CAAC;oCACxB,QAAQ,CAAC,EAAE3B,GAAC,GAAK4B,mBAAmB,CAAC5B,GAAC,CAACoB,MAAM,CAACR,KAAK,CAAC,CAAC;oCACrD,UAAU,IAAC,gBAAgB;oCAC3B,SAAS,EAAC,yIAAyI;;;;;;8CAErJ,6LAAC,GAAG;oCAAC,SAAS,EAAC,UAAU;;sDACvB,6LAAC,IAAI;4CAAC,SAAS,EAAC,oDAAoD;sDAAC,CAAC,EAAE,IAAI;;;;;;sDAC5E,6LAAC,KAAK;4CACJ,EAAE,EAAC,gBAAgB;4CACnB,WAAW,EAAC,MAAM;4CAClB,IAAI,EAAC,QAAQ;4CACb,GAAG,EAAC,GAAG;4CACP,IAAI,EAAC,MAAM;4CACX,KAAK,CAAC,CAACiB,YAAY,CAAC;4CACpB,QAAQ,CAAC,EAAE7B,GAAC,GAAK8B,eAAe,CAAC9B,GAAC,CAACoB,MAAM,CAACR,KAAK,CAAC,CAAC;4CACjD,UAAU,IAAC,cAAc;4CACzB,SAAS,EAAC,sJAAsJ;;;;;;;;;;;;8CAGpK,6LAAC,MAAM;oCACL,IAAI,EAAC,QAAQ;oCACb,SAAS,EAAC,sLAAsL;;sDAEhM,6LAAC,6MAAI;4CAAC,SAAS,EAAC,SAAS;;;;;;wCAAA;;;;;;;;;;;;;;;;;;;8BAM/B,6LAAC,GAAG;oBAAC,SAAS,EAAC,WAAW;8BACvBa,SAAS,CAAC7K,MAAM,KAAK,CAAC,iBACrB,6LAAC,GAAG;wBAAC,SAAS,EAAC,mFAAmF;;0CAChG,6LAAC,+NAAU;gCAAC,SAAS,EAAC,uCAAuC;;;;;;0CAC7D,6LAAC,EAAE;gCAAC,SAAS,EAAC,oCAAoC;0CAAC,sBAAsB,EAAE,EAAE;;;;;;0CAC7E,6LAAC,CAAC;gCAAC,SAAS,EAAC,gBAAgB;0CAAC,wCAAwC,EAAE,CAAC;;;;;;;;;;;mEAG3E6K,SAAS,CAAClI,GAAG,EAAEzB,MAAI,iBACjB,6LAAC,aAAa,CACZ,GAAG,CAAC;4BACJ,IAAI,CAAC,CAACA,MAAI,CAAC;4BACX,QAAQ,CAAC,CAAC,IAAMwK,eAAe,CAACxK,MAAI,CAACX,EAAE,CAAC,CAAC;4BACzC,gBAAgB,CAAC,EAAES,MAAI,GAAK2K,cAAc,CAACzK,MAAI,CAACX,EAAE,EAAES,MAAI,CAAC,CAAC;4BAC1D,aAAa,CAAC,EAAE6K,UAAQ,GAAKD,WAAW,CAAC1K,MAAI,CAACX,EAAE,EAAEsL,UAAQ,CAAC,CAAC,GAE/D,CACF;2BAPU3K,MAAI,CAACX,EAAE,CAAC;;;;;;;;;;gBAUpBsK,SAAS,CAAC7K,MAAM,GAAG,CAAC,kBACnB,6LAAC,GAAG;oBAAC,SAAS,EAAC,sBAAsB;8BACnC,2MAAC,GAAG;wBAAC,SAAS,EAAC,uKAAuK;;0CACpL,6LAAC,GAAG;gCAAC,SAAS,EAAC,yBAAyB;;kDACtC,6LAAC,GAAG;wCAAC,SAAS,EAAC,gDAAgD;gEAC7D,6LAAC,6MAAI;4CAAC,SAAS,EAAC,SAAS;;;;;;;;;;;kDAE3B,6LAAC,GAAG;;0DACF,6LAAC,EAAE;gDAAC,SAAS,EAAC,mBAAmB;0DAAC,aAAa,EAAE,EAAE;;;;;;0DACnD,6LAAC,CAAC;gDAAC,SAAS,EAAC,wBAAwB;;oDAClC6K,SAAS,CAAC7K,MAAM;oDAAC,QAAQ;oDAAC6K,SAAS,CAAC7K,MAAM,KAAK,CAAC,IAAI,GAAG;oDAAC;;;;;;;;;;;;;;;;;;;0CAI/D,6LAAC,GAAG;gCAAC,SAAS,EAAC,0CAA0C;0CACtD2B,cAAc,CAACqK,UAAU,CAAC;;;;;;;;;;;;;;;;;8BAMnC,6LAAC,GAAG;oBAAC,SAAS,EAAC,4EAA4E;;sCACzF,6LAAC,EAAE;4BAAC,SAAS,EAAC,uDAAuD;;8CACnE,6LAAC,6MAAI;oCAAC,SAAS,EAAC,SAAS;;;;;;gCAAA;;;;;;;sCAG3B,6LAAC,EAAE;4BAAC,SAAS,EAAC,yEAAyE;;8CACrF,6LAAC,EAAE;;wCAAA;sDACY,6LAAC,IAAI;4CAAC,SAAS,EAAC,0BAA0B;sDAAC,iBAAiB,EAAE,IAAI;;;;;;wCAAC;;;;;;;8CAElF,6LAAC,EAAE;;wCAAA;sDACqB,6LAAC,IAAI;4CAAC,SAAS,EAAC,8BAA8B;sDAAC,MAAM,EAAE,IAAI;;;;;;wCAAC;;;;;;;8CAEpF,6LAAC,EAAE;;wCAAA;sDACoB,6LAAC,IAAI;4CAAC,SAAS,EAAC,8BAA8B;sDAAC,OAAO,EAAE,IAAI;;;;;;wCAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOhG,CAAC;;MApMKpB,mBAAmB;uCAsMVA,mBAAmB;AA3tBhB,SAAAnE,MAAA6F,CAAA,EAAAxH,CAAA;IAAA,OAU2CA,CAAC,GAAG,CAAC;AAAA;AAVhD,SAAAsC,OAAAmF,KAAA,EAAAC,GAAA;IAAA,qBAgDR,6LAAA,GAOM,CANC5I,GAAG,CAAHA;QACM,SAET,CAFS,CAAA,CAAA,2DAAA,EACTkB,GAAC,KAAK,CAAY,IAAPA,GAAC,KAAK,CAAuC,GAAxD,gBAAwD,GAAxD,gBAAwD,EACzD,CAAC,CAEDlB;kBAAAA,KAAE,CACL,EAPA,GAOM;OANCA,KAAE,CAAC;;;;;AAMJ;AAvDE,SAAAyD,OAAAoF,GAAA,EAAAC,GAAA;IAAA,qBA6DR,6LAAA,GAA0B,CAAhB,GAAY,CAAZ,GAAA,CAAA,MAAA,EAAS5H,GAAC,EAAC,CAAC,GAAI;;;;;AAAA","ignoreList":[]}}]
}